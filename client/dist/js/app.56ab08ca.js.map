{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Header.vue?c83f","webpack:///./src/components/NavebarHr.vue?6818","webpack:///./src/components/Navebar.vue?453e","webpack:///./src/views/EditTransc.vue?cd0c","webpack:///./src/App.vue?e3c3","webpack:///./src/App.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?e257","webpack:///./src/components/Footer.vue","webpack:///./src/components/Footer.vue?801f","webpack:///./src/components/Navebar.vue","webpack:///./src/components/Navebar.vue?8b82","webpack:///./src/components/NavebarHr.vue","webpack:///./src/components/NavebarHr.vue?bee7","webpack:///./src/App.vue?eabf","webpack:///./src/api/userRequest.js","webpack:///./src/api/walletRequest.js","webpack:///./src/api/index.js","webpack:///./src/store/User/index.js","webpack:///./src/store/Wallet/index.js","webpack:///./src/store/index.js","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?a655","webpack:///./src/views/Analysis.vue","webpack:///./src/views/Analysis.vue?0649","webpack:///./src/views/User.vue","webpack:///./src/views/User.vue?960c","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?f1df","webpack:///./src/views/Wallet.vue","webpack:///./src/views/Wallet.vue?8699","webpack:///./src/views/CreateWallet.vue","webpack:///./src/views/CreateWallet.vue?658c","webpack:///./src/views/CreateTransc.vue","webpack:///./src/views/CreateTransc.vue?6b54","webpack:///./src/views/CreateConsumeType.vue","webpack:///./src/views/CreateConsumeType.vue?5043","webpack:///./src/views/SubWallet/SubWallet.vue","webpack:///./src/views/SubWallet/SubWallet.vue?2168","webpack:///./src/views/SubWallet/WalletIndex.vue","webpack:///./src/views/SubWallet/WalletIndex.vue?86ef","webpack:///./src/views/EditTransc.vue","webpack:///./src/views/EditTransc.vue?015f","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/views/SubWallet/WalletIndex.vue?5363","webpack:///./src/views/Analysis.vue?efac","webpack:///./src/views/CreateWallet.vue?bc67","webpack:///./src/components/Footer.vue?02dd","webpack:///./src/views/SubWallet/SubWallet.vue?bf41","webpack:///./src/views/CreateConsumeType.vue?5270","webpack:///./src/views/User.vue?c9ed","webpack:///./src/views/Login.vue?8731","webpack:///./src/views/CreateTransc.vue?ba6c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","token","user","mainWallet","width","path","userName","height","align","default","fallback","handleMenuOpen","style","isMenuOpen","span","offset","sm","lg","to","logout","setup","store","router","getters","confirm","confirmButtonText","cancelButtonText","type","center","customClass","dispatch","message","newToken","oldToken","render","__scopeId","id","background-color","active-text-color","text-color","default-active","routePath","collapse","routerList","item","index","show-timeout","hide-timeout","title","iconClass","text","wallets","wallet","_id","walletName","route","getIsMenuOpen","options","routes","match","menu-trigger","components","Header","Footer","Navbar","NavbarHr","newVal","oldVal","err","console","log","msg","url","userRequest","axios","baseURL","headerObj","headers","Authorization","apiUserRegister","post","apiUserLogin","apiUserLoginWithGoogle","apiUserUpdate","patch","walletRequest","apiWalletCreate","apiWalletsRead","apiWalletRead","apiWalletUpdate","apiWalletDelete","delete","postApiUserRegister","postApiUserLogin","postApiUserLoginWithGoogle","patchApiUserUpdate","postApiWalletCreate","getApiWalletsRead","getApiWalletRead","patchApiWalletUpdate","deleteApiWalletDelete","errorHandling","errObj","response","status","ElMessage","error","request","namespaced","state","userData","actions","handleRegister","payload","commit","userEmail","password","registerRes","loginRes","localStorage","setItem","JSON","stringify","handleLogin","res","handleLoginWithGoogle","handleUpdateUser","handleRemoveUser","removeItem","mutations","setUserActive","removeUser","getUserData","getItem","parse","getToken","handleCreateWallet","handleGetWallets","handleGetWallet","handleUpdateWallet","handleDeleteWallet","createWallet","setWallets","forEach","totalAmounts","initialTotal","expense","income","transaction","trans","transType","amount","Date","date","total","monthTotal","setWallet","deleteWallet","getWallets","getWallet","createStore","handleSetIsMenuOpen","bool","setIsMenuOpen","User","Wallet","userSelect","placeholder","size","label","timeFrom","getDateBefore","getFullYear","customTime","range-separator","start-placeholder","end-placeholder","unlink-panels","clearable","value-format","disabled","indeterminate","isIndeterminate","selectedAll","handleCheckAllChange","selected_expenseType","allTypes","selected_incomeType","isPie","active-text","inactive-text","option","BarChartOption","PieChartOption","VChart","expenseType","incomeType","day","DateObj","dateBefore","setTime","getTime","year","month","getMonth","getDate","timeTo","allWallets","ids","selectedWallets","ws","foundWallet","find","opt","val","handleCheckedTypesChange","checkedCount","chartData","x","remain","expenseData","incomeData","getChartData","start","end","Mstart","split","Mend","date_range","dateStr","dateStr2","rangeEnd","idx","e","pe","pi","transDate","consumeType","indexOf","undefined","keys","tooltip","trigger","axisPointer","crossStyle","color","legend","xAxis","yAxis","axisLabel","formatter","series","yAxisIndex","orient","left","visualMap","show","min","max","inRange","colorLightness","radius","sort","a","b","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","nv","ov","ref","model","formData","rules","label-position","formLabelPosition","label-width","status-icon","hide-required-asterisk","inline-message","prop","isEditable","plain","changeEditStatus","originalPwd","show-password","checkPwdType","checkOriginalPwd","loading","isLoading","checkPwdText","pwdCheck","handleUpdateUserData","formRef","checkLabelPosition","document","body","clientWidth","valid","pwdCheckValidator","rule","callback","Error","required","validator","checkUser","success","setTimeout","validate","pass","updateUser","addEventListener","model-value","registerData","round","registerRef","loginData","rulesForLogin","loginRef","googleLoginBtn","loginBtn","accountType","registerUser","loginUser","GOOGLE_CLIENT_ID","googleInit","google","accounts","initialize","client_id","login_uri","cancel_on_tap_outside","renderButton","theme","shape","locale","prompt","script","setMainWallet","hasMainWallet","handleCreateNewWallet","makeNotification","position","showClose","formValidate","saveObj","userWallets","maxlength","show-word-limit","autosize","note","handleAddTransaction","query","amountValidator","transcRecord","createTransc","icon","circle","handleEdit","handleCreateConsumeType","setFormRef","addItem","el","validateTypeName","createConsumeType","duration","header","NtM","placement","dropdown","handleWalletNameEdit","handleTotalEdit","handleSetMainWallet","handleWalletDelete","userSelectTime","stat","transOfCertainDay","subTrans","show-header","cell-style","setStyle","header-row-class-name","min-width","dayTotal","class-name","walletNameVisible","dialogueVisible","destroy-on-close","closeDialogue","footer","amountVisible","setRef","params","ta","nowTime","nowYear","nowMonth","num","isNegative","str","Math","abs","join","nowDate","row","columnIndex","column","rowIndex","focus","editWalletName","editTotal","updateWallet","nsg","warning","service","lock","spinner","background","close","handleTransEdit","handleTransDelete","transc","deleteTransc","from","shadow","walletStat","xs","text-inside","stroke-width","percentage","handleCancle","go","editTransc","component","Home","children","WalletIndex","subWallet","Analysis","CreateWallet","CreateTransc","CreateConsumeType","EditTransc","Login","createRouter","history","createWebHistory","process","whiteList","beforeEach","computed","includes","ElMessageBox","alert","app","createApp","App","dayjs","use","ElementPlus","mount"],"mappings":"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","file":"js/app.56ab08ca.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/client/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Header.vue?vue&type=style&index=0&id=50819f75&scoped=true&lang=sass\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavebarHr.vue?vue&type=style&index=0&id=379ff154&scoped=true&lang=sass\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Navebar.vue?vue&type=style&index=0&id=9d0b69c0&lang=sass&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditTransc.vue?vue&type=style&index=0&id=6ff83cf0&lang=sass\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=02f43d66&lang=sass\"","<script>\nimport { ref, watch, computed, onErrorCaptured } from \"vue\";\n\nimport { useRoute } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport Header from \"@/components/Header.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport Navbar from \"@/components/Navebar.vue\";\nimport NavbarHr from \"@/components/NavebarHr.vue\";\nimport \"element-plus/lib/theme-chalk/display.css\";\n\nexport default {\n\tcomponents: {\n\t\tHeader,\n\t\tFooter,\n\t\tNavbar,\n\t\tNavbarHr,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst route = useRoute();\n\n\t\t// get token and user to decide whether to set key of menu bar\n\t\tconst token = computed(() => {\n\t\t\treturn store.getters[\"User/getToken\"];\n\t\t});\n\t\tconst user = computed(() => {\n\t\t\treturn store.getters[\"User/getUserData\"];\n\t\t});\n\t\tconst path = computed(() => {\n\t\t\treturn route.path;\n\t\t});\n\n\t\t// set menu open\n\t\tconst width = ref(64);\n\t\tconst isMenuOpen = computed(() => {\n\t\t\treturn store.getters.getIsMenuOpen;\n\t\t});\n\t\tconst handleMenuOpen = () => {\n\t\t\tstore.dispatch(\"handleSetIsMenuOpen\", isMenuOpen.value);\n\t\t};\n\n\t\twatch(\n\t\t\t() => isMenuOpen.value,\n\t\t\t(newVal, oldVal) => {\n\t\t\t\tif (newVal) {\n\t\t\t\t\twidth.value = 250;\n\t\t\t\t} else {\n\t\t\t\t\twidth.value = 64;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tonErrorCaptured((err) => {\n\t\t\tconsole.log(err.msg || err);\n\t\t});\n\n\t\treturn {\n\t\t\ttoken,\n\t\t\tuser,\n\t\t\tpath,\n\t\t\twidth,\n\t\t\tisMenuOpen,\n\t\t\thandleMenuOpen,\n\t\t};\n\t},\n};\n</script>\n\n<template>\n\t<el-container\n\t\t:class=\"['window-container', { 'pb-50': token && user.mainWallet }]\"\n\t>\n\t\t<el-aside\n\t\t\t:width=\"`${width}px`\"\n\t\t\tclass=\"fixed-aside hidden-sm-and-down\"\n\t\t\tv-if=\"token && user.mainWallet\"\n\t\t>\n\t\t\t<Navbar :key=\"path + user.userName\" />\n\t\t</el-aside>\n\t\t<el-aside\n\t\t\t:width=\"`${width}px`\"\n\t\t\tclass=\"hidden-sm-and-down\"\n\t\t\tv-if=\"token && user.mainWallet\"\n\t\t></el-aside>\n\t\t<el-container class=\"main-container\">\n\t\t\t<el-header height=\"auto\">\n\t\t\t\t<el-row align=\"middle\">\n\t\t\t\t\t<Header />\n\t\t\t\t</el-row>\n\t\t\t</el-header>\n\t\t\t<el-main>\n\t\t\t\t<Suspense>\n\t\t\t\t\t<template #default>\n\t\t\t\t\t\t<router-view />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #fallback>\n\t\t\t\t\t\t<h1>Loading...</h1>\n\t\t\t\t\t</template>\n\t\t\t\t</Suspense>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"menuOpen hidden-sm-and-down\"\n\t\t\t\t\t@click=\"handleMenuOpen\"\n\t\t\t\t\tv-if=\"token && user.mainWallet\"\n\t\t\t\t\t:style=\"{ left: `${width - 1}px` }\"\n\t\t\t\t>\n\t\t\t\t\t{{ isMenuOpen ? \"❰\" : \"❱\" }}\n\t\t\t\t</div>\n\t\t\t</el-main>\n\t\t\t<el-footer\n\t\t\t\t:class=\"{ 'footer hidden-sm-and-down': token }\"\n\t\t\t\theight=\"auto\"\n\t\t\t>\n\t\t\t\t<Footer />\n\t\t\t</el-footer>\n\t\t</el-container>\n\t</el-container>\n\t<NavbarHr\n\t\tclass=\"hidden-md-and-up md-navbar\"\n\t\tv-if=\"token && user.mainWallet\"\n\t/>\n</template>\n\n<style lang=\"sass\">\n*\n\tfont-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微軟雅黑\", Arial, sans-serif, \"微軟正黑體\"\n\nhtml, body\n\tmargin: 0px\n\tpadding: 0px\n\theight: 100%\n\n#app\n\tfont-family: Avenir, Helvetica, Arial, sans-serif\n\t-webkit-font-smoothing: antialiased\n\t-moz-osx-font-smoothing: grayscale\n\ttext-align: center\n\tcolor: #2c3e50\n\theight: 100%\n\t.window-container\n\t\tmin-height: 100%\n\t\toverflow: auto\n\t\t.fixed-aside\n\t\t\tposition: fixed\n\t\t\theight: 100%\n\t\t\tz-index: 10\n\t\t.el-aside\n\t\t\tbackground-color: #172b3a\n\t\t\ttransition: 0.3s\n\t\t\toverflow-x: hidden\n\t\t\t&::-webkit-scrollbar\n\t\t\t\tdisplay: none\n\n.main-container\n\t.el-header\n\t\tbackground-color: #f1f1f1\n\t\tpadding: 0\n\t\tposition: relative\n\t.el-footer\n\t\ttext-align: center\n\t\tbackground-color: #444444\n\n.el-main\n\toverflow-x: hidden\n\tposition: relative\n\t.menuOpen\n\t\tposition: fixed\n\t\twidth: 20px\n\t\theight: 100px\n\t\tleft: 249px\n\t\ttop: 30%\n\t\tborder: solid 1px\n\t\tborder-radius: 0px 10px 10px 0px\n\t\ttext-align: center\n\t\tcolor: #172b3a\n\t\tline-height: 100px\n\t\tz-index: 999\n\t\tcursor: pointer\n\t\tuser-select: none\n\t\ttransition: 0.3s\n\t\tz-index: 1\n\t\t&:hover\n\t\t\tcolor: #7698b3\n\n.md-navbar\n\tposition: fixed\n\tbottom: 0px\n\n.el-popper\n\t&.is-light\n\t\tborder: none\n\n.maxWidth-90\n\tmax-width: 90%\n\t&.el-message\n\t\tmin-width: 300px\n\n.el-notification\n\twidth: 90%\n\tmax-width: 390px\n\n.el-dialog\n\tmin-width: 300px\n\t.el-input\n\t\tmargin-top: 1rem\n\n@media screen and (max-width: 992px)\n\t.pb-50\n\t\tpadding-bottom: 50px\n</style>\n","<script>\r\nimport { ref, watch, computed, watchEffect } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { ElMessageBox } from \"element-plus\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst router = useRouter();\r\n\r\n\t\tconst span = ref(2);\r\n\t\tconst offset = ref(4);\r\n\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\r\n\t\tconst logout = async () => {\r\n\t\t\tawait ElMessageBox.confirm(\"確認是否登出？\", \"提示\", {\r\n\t\t\t\tconfirmButtonText: \"確定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\",\r\n\t\t\t\tcenter: true,\r\n\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t});\r\n\t\t\tstore.dispatch(\"User/handleRemoveUser\");\r\n\t\t\trouter.push(\"/login\");\r\n\t\t\tElMessage({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tmessage: \"已成功登出！\",\r\n\t\t\t\tcenter: true,\r\n\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\twatchEffect(() => {\r\n\t\t\tif (token.value) {\r\n\t\t\t\tspan.value = 3;\r\n\t\t\t\toffset.value = 3;\r\n\t\t\t} else {\r\n\t\t\t\tspan.value = 2;\r\n\t\t\t\toffset.value = 4;\r\n\t\t\t}\r\n\t\t});\r\n\t\twatch(\r\n\t\t\t() => token.value,\r\n\t\t\t(newToken, oldToken) => {\r\n\t\t\t\tif (newToken) {\r\n\t\t\t\t\tspan.value = 3;\r\n\t\t\t\t\toffset.value = 3;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tspan.value = 2;\r\n\t\t\t\t\toffset.value = 4;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn {\r\n\t\t\ttoken,\r\n\t\t\tlogout,\r\n\t\t\tspan,\r\n\t\t\toffset,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-col :span=\"12\" :offset=\"6\">\r\n\t\t<span>My Wallet Application</span>\r\n\t</el-col>\r\n\t<el-col\r\n\t\t:span=\"4\"\r\n\t\t:offset=\"2\"\r\n\t\t:sm=\"{ span: 3, offset: 3 }\"\r\n\t\t:lg=\"{ span: span, offset: offset }\"\r\n\t\tv-if=\"!token\"\r\n\t>\r\n\t\t<router-link to=\"/login\">登入</router-link>\r\n\t</el-col>\r\n\t<el-col\r\n\t\t:span=\"4\"\r\n\t\t:offset=\"2\"\r\n\t\t:sm=\"{ span: 3, offset: 3 }\"\r\n\t\t:lg=\"{ span: span, offset: offset }\"\r\n\t\tv-if=\"token\"\r\n\t>\r\n\t\t<a @click=\"logout\">登出</a>\r\n\t</el-col>\r\n</template>\r\n\r\n<style scoped lang=\"sass\">\r\n.el-col\r\n\tpadding: 20px 0px\r\n\tspan\r\n\t\tfont-size: 24px\r\n\t\tfont-weight: bold\r\n\ta\r\n\t\tpadding: 0 1.5rem\r\n\t\theight: 60%\r\n\t\tborder-left: solid 2px #fff\r\n\t\tcolor: #303133\r\n\t\ttext-decoration: none\r\n\t\tbox-sizing: border-box\r\n\t\ttransition: 0.3s\r\n\t\tcursor: pointer\r\n\t\t&:hover\r\n\t\t\tfont-weight: 600\r\n@media screen and (max-width: 768px)\r\n\t.el-col\r\n\t\ta\r\n\t\t\tpadding: 0 0.5rem\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=50819f75&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=50819f75&scoped=true&lang=sass\"\nscript.render = render\nscript.__scopeId = \"data-v-50819f75\"\n\nexport default script","<script>\r\nexport default {};\r\n</script>\r\n\r\n<template>\r\n\t<p>我是有錢人股份有限公司© IAMARICHMAN Corporation. All Rights Reserved.</p>\r\n</template>\r\n\r\n<style lang=\"sass\" scoped>\r\np\r\n\tcolor: #f3f3f3\r\n\tfont-size: 12px\r\n\tletter-spacing: 1.5px\r\n\tmargin: 10px\r\n</style>\r\n","import { render } from \"./Footer.vue?vue&type=template&id=59bf9e74&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=59bf9e74&lang=sass&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-59bf9e74\"\n\nexport default script","<script>\r\nimport { ref, watch, computed, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport \"element-plus/lib/theme-chalk/display.css\";\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst route = useRoute();\r\n\t\tconst router = useRouter();\r\n\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst userName = user.value.userName;\r\n\r\n\t\tconst wallets = computed(() => {\r\n\t\t\treturn store.getters[\"Wallet/getWallets\"];\r\n\t\t});\r\n\t\tstore.dispatch(\"Wallet/handleGetWallets\", token.value);\r\n\r\n\t\tconst isMenuOpen = computed(() => {\r\n\t\t\treturn store.getters.getIsMenuOpen;\r\n\t\t});\r\n\t\tconst routePath = computed(() => {\r\n\t\t\treturn route.path;\r\n\t\t});\r\n\t\tconst routerList = computed(() => {\r\n\t\t\treturn router.options.routes.slice(1, 7);\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\twallets,\r\n\t\t\tuserName,\r\n\t\t\tisMenuOpen,\r\n\t\t\troutePath,\r\n\t\t\trouterList,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-menu\r\n\t\tid=\"nav\"\r\n\t\tbackground-color=\"#172b3a\"\r\n\t\tactive-text-color=\"#42b983\"\r\n\t\ttext-color=\"#fcefef\"\r\n\t\trouter\r\n\t\t:default-active=\"routePath === '' ? '1-1' : routePath\"\r\n\t\t:collapse=\"!isMenuOpen\"\r\n\t>\r\n\t\t<el-avatar class=\"menu-collapse\" v-if=\"!isMenuOpen\">\r\n\t\t\tuser\r\n\t\t</el-avatar>\r\n\t\t<el-menu-item class=\"user-name\" v-if=\"isMenuOpen\">\r\n\t\t\t<el-avatar>\r\n\t\t\t\tuser\r\n\t\t\t</el-avatar>\r\n\t\t\t<span class=\"text\">Hi, {{ userName }}</span>\r\n\t\t</el-menu-item>\r\n\t\t<el-submenu\r\n\t\t\tv-for=\"item in routerList.slice(0, 1)\"\r\n\t\t\t:key=\"item.name\"\r\n\t\t\t:index=\"item.path\"\r\n\t\t\t:show-timeout=\"0\"\r\n\t\t\t:hide-timeout=\"0\"\r\n\t\t\t:class=\"{ 'mt-15': isMenuOpen }\"\r\n\t\t>\r\n\t\t\t<template #title>\r\n\t\t\t\t<i :class=\"item.iconClass\"></i>\r\n\t\t\t\t<span class=\"hidden-sm-and-down sub-menu-title\">\r\n\t\t\t\t\t{{ item.text }}\r\n\t\t\t\t</span>\r\n\t\t\t</template>\r\n\t\t\t<el-menu-item-group>\r\n\t\t\t\t<el-menu-item index=\"/wallet\">帳戶總覽</el-menu-item>\r\n\t\t\t\t<el-menu-item\r\n\t\t\t\t\tv-for=\"wallet in wallets\"\r\n\t\t\t\t\t:key=\"wallet._id\"\r\n\t\t\t\t\t:index=\"`/wallet/${wallet._id}`\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{ wallet.walletName }}\r\n\t\t\t\t</el-menu-item>\r\n\t\t\t</el-menu-item-group>\r\n\t\t</el-submenu>\r\n\t\t<el-menu-item\r\n\t\t\tv-for=\"item in routerList.slice(1, 6)\"\r\n\t\t\t:key=\"item.name\"\r\n\t\t\t:index=\"item.path\"\r\n\t\t>\r\n\t\t\t<i :class=\"item.iconClass\"></i>\r\n\t\t\t<span class=\"hidden-sm-and-down\">{{ item.text }}</span>\r\n\t\t</el-menu-item>\r\n\t</el-menu>\r\n</template>\r\n\r\n<style lang=\"sass\" scoped>\r\n#nav\r\n\ttext-align: left\r\n\theight: 100%\r\n\tborder: none\r\n\t.menu-collapse\r\n\t\tdisplay: inline-block\r\n\t\tmargin: 30px 12px\r\n\t\tvertical-align: middle\r\n\t\tmargin-top: 50px\r\n\t.user-name\r\n\t\tmargin: 30px -8px\r\n\t\tmargin-top: 50px\r\n\t\t&.el-menu-item\r\n\t\t\tpadding: 0px\r\n\t\t\tline-height: unset\r\n\t\t\theight: auto\r\n\t\t.text\r\n\t\t\tfont-size: 16px\r\n\t\t\tfont-weight: bold\r\n\t\t\tmargin-left: 15px\r\n\t\t&:hover\r\n\t\t\tbackground-color: #172b3a !important\r\n\t.el-submenu\r\n\t\t.sub-menu-title\r\n\t\t\tfont-size: 16px\r\n\t\t\tmargin-left: 20px\r\n\t\t.el-menu-item-group\r\n\t\t\tmargin-left: 30px\r\n\t\t\t.el-menu-item\r\n\t\t\t\tfont-size: 14px\r\n\t\t&.mt-15\r\n\t\t\tmargin-bottom: 15px\r\n\t.el-menu-item\r\n\t\tfont-size: 16px\r\n\t\ti\r\n\t\t\tmargin-right: 25px\r\n\t\t\tfont-size: 18px\r\n@media screen and (max-width: 992px)\r\n\t#nav\r\n\t\tdisplay: flex\r\n\t\tjustify-content: center\r\n\t\ttext-align: center\r\n\t\twidth: 100%\r\n\t\theight: auto\r\n\t\t.el-menu-item\r\n\t\t\twidth: 16.66%\r\n\t\t\ti\r\n\t\t\t\tmargin-right: 0px\r\n</style>\r\n","import { render } from \"./Navebar.vue?vue&type=template&id=9d0b69c0&scoped=true\"\nimport script from \"./Navebar.vue?vue&type=script&lang=js\"\nexport * from \"./Navebar.vue?vue&type=script&lang=js\"\n\nimport \"./Navebar.vue?vue&type=style&index=0&id=9d0b69c0&lang=sass&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9d0b69c0\"\n\nexport default script","<script>\r\nimport { ref, watch, computed, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport \"element-plus/lib/theme-chalk/display.css\";\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst route = useRoute();\r\n\t\tconst router = useRouter();\r\n\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst userName = user.value.userName;\r\n\r\n\t\tconst isMenuOpen = computed(() => {\r\n\t\t\treturn store.getters.getIsMenuOpen;\r\n\t\t});\r\n\t\tconst routePath = computed(() => {\r\n\t\t\treturn route.path;\r\n\t\t});\r\n\t\tconst routerList = computed(() => {\r\n\t\t\treturn router.options.routes.slice(1, 7);\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tuserName,\r\n\t\t\tisMenuOpen,\r\n\t\t\troutePath,\r\n\t\t\trouterList,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-menu\r\n\t\tid=\"nav\"\r\n\t\tbackground-color=\"#172b3a\"\r\n\t\tactive-text-color=\"#42b983\"\r\n\t\ttext-color=\"#fcefef\"\r\n\t\trouter\r\n\t\tmode=\"horizontal\"\r\n\t\t:default-active=\"routePath.match(/^\\/wallet/g) ? '/wallet' : routePath\"\r\n\t\tmenu-trigger=\"click\"\r\n\t>\r\n\t\t<el-menu-item\r\n\t\t\tv-for=\"item in routerList\"\r\n\t\t\t:key=\"item.name\"\r\n\t\t\t:index=\"item.path\"\r\n\t\t>\r\n\t\t\t<template #title>\r\n\t\t\t\t<i :class=\"item.iconClass\"></i>\r\n\t\t\t\t<span class=\"hidden-sm-and-down\">{{ item.text }}</span>\r\n\t\t\t</template>\r\n\t\t</el-menu-item>\r\n\t</el-menu>\r\n</template>\r\n\r\n<style scoped lang=\"sass\">\r\n#nav\r\n\ttext-align: left\r\n\theight: 100%\r\n\tborder: none\r\n\tz-index: 999\r\n\t.menu-collapse\r\n\t\tdisplay: inline-block\r\n\t\tmargin: 30px 12px\r\n\t\tvertical-align: middle\r\n\t\tmargin-top: 50px\r\n\t.user-name\r\n\t\tmargin: 30px 12px\r\n\t\tmargin-top: 50px\r\n\t\t&.el-menu-item\r\n\t\t\tpadding: 0px\r\n\t\t\tline-height: unset\r\n\t\t\theight: auto\r\n\t\t.text\r\n\t\t\tfont-size: 16px\r\n\t\t\tfont-weight: bold\r\n\t\t\tmargin-left: 15px\r\n\t\t&:hover\r\n\t\t\tbackground-color: #172b3a !important\r\n\t.el-submenu\r\n\t\t.sub-menu-title\r\n\t\t\tfont-size: 16px\r\n\t\t\tmargin-left: 20px\r\n\t\t.el-menu-item-group\r\n\t\t\tmargin-left: 30px\r\n\t\t\t.el-menu-item\r\n\t\t\t\tfont-size: 14px\r\n\t.el-menu-item\r\n\t\tfont-size: 16px\r\n\t\ti\r\n\t\t\tmargin-right: 25px\r\n\t\t\tfont-size: 18px\r\n@media screen and (max-width: 992px)\r\n\t#nav\r\n\t\tdisplay: flex\r\n\t\tjustify-content: center\r\n\t\ttext-align: center\r\n\t\twidth: 100%\r\n\t\theight: auto\r\n\t\t.el-menu-item\r\n\t\t\twidth: 16.66%\r\n\t\t\ti\r\n\t\t\t\tmargin-right: 0px\r\n</style>\r\n","import { render } from \"./NavebarHr.vue?vue&type=template&id=379ff154&scoped=true\"\nimport script from \"./NavebarHr.vue?vue&type=script&lang=js\"\nexport * from \"./NavebarHr.vue?vue&type=script&lang=js\"\n\nimport \"./NavebarHr.vue?vue&type=style&index=0&id=379ff154&scoped=true&lang=sass\"\nscript.render = render\nscript.__scopeId = \"data-v-379ff154\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=02f43d66\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=02f43d66&lang=sass\"\nscript.render = render\n\nexport default script","import axios from \"axios\";\r\nconst url = \"http://localhost:3000/api/auth\";\r\n\r\nconst userRequest = axios.create( {\r\n    baseURL: url\r\n} );\r\nconst headerObj = ( token ) => {\r\n    return { headers: { Authorization: token } };\r\n};\r\n\r\nexport const apiUserRegister = data => userRequest.post( \"/register\", data );\r\nexport const apiUserLogin = data => userRequest.post( \"/login\", data );\r\nexport const apiUserLoginWithGoogle = ( data ) => userRequest.post( \"/google\", data );\r\nexport const apiUserUpdate = ( data, token ) => userRequest.patch( \"/user\", data, headerObj( token ) );\r\nexport const apiUsersDelete = ( token ) => userRequest.delete( \"/user\", headerObj( token ) );\r\nexport const apiUserDelete = ( token, _id ) => userRequest.delete( `/user/${ _id }`, headerObj( token ) );","import axios from \"axios\";\r\nconst url = \"http://localhost:3000/api/wallet\";\r\n\r\nconst walletRequest = axios.create( {\r\n    baseURL: url\r\n} );\r\nconst headerObj = ( token ) => {\r\n    return { headers: { Authorization: token } };\r\n};\r\n\r\nexport const apiWalletCreate = ( data, token ) => walletRequest.post( \"/\", data, headerObj( token ) );\r\nexport const apiWalletsRead = ( token ) => walletRequest.get( \"/\", headerObj( token ) );\r\nexport const apiWalletRead = ( token, _id ) => walletRequest.get( `/${ _id }`, headerObj( token ) );\r\nexport const apiWalletUpdate = ( data, token, _id ) => walletRequest.patch( `/${ _id }`, data, headerObj( token ) );\r\nexport const apiWalletsDelete = ( token ) => walletRequest.delete( \"/\", headerObj( token ) );\r\nexport const apiWalletDelete = ( token, _id ) => walletRequest.delete( `/${ _id }`, headerObj( token ) );\r\n\r\n","import {\r\n    apiUserRegister,\r\n    apiUserLogin,\r\n    apiUserLoginWithGoogle,\r\n    apiUserUpdate,\r\n    apiUsersDelete,\r\n    apiUserDelete\r\n} from \"./userRequest\";\r\nimport {\r\n    apiWalletCreate,\r\n    apiWalletsRead,\r\n    apiWalletRead,\r\n    apiWalletUpdate,\r\n    apiWalletsDelete,\r\n    apiWalletDelete\r\n} from \"./walletRequest\";\r\n\r\nexport const postApiUserRegister = apiUserRegister;\r\nexport const postApiUserLogin = apiUserLogin;\r\nexport const postApiUserLoginWithGoogle = apiUserLoginWithGoogle;\r\nexport const patchApiUserUpdate = apiUserUpdate;\r\nexport const deleteApiUsersDelete = apiUsersDelete;\r\nexport const deleteApiUserDelete = apiUserDelete;\r\n\r\nexport const postApiWalletCreate = apiWalletCreate;\r\nexport const getApiWalletsRead = apiWalletsRead;\r\nexport const getApiWalletRead = apiWalletRead;\r\nexport const patchApiWalletUpdate = apiWalletUpdate;\r\nexport const deleteApiWalletsDelete = apiWalletsDelete;\r\nexport const deleteApiWalletDelete = apiWalletDelete;","import {\r\n    postApiUserRegister,\r\n    postApiUserLogin,\r\n    postApiUserLoginWithGoogle,\r\n    patchApiUserUpdate\r\n} from \"../../api\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nconst errorHandling = ( err ) => {\r\n    let errObj;\r\n    if ( err.response ) {\r\n        // Request made and server responded\r\n        console.log( err.response.data );\r\n        console.log( err.response.status );\r\n        ElMessage.error( { message: err.response.data.msg, customClass: \"maxWidth-90\" } );\r\n        errObj = err.response.data;\r\n    } else if ( err.request ) {\r\n        // The request was made but no response was received\r\n        console.log( err.request );\r\n        ElMessage.error( { message: \"系統錯誤，請洽客服人員\", customClass: \"maxWidth-90\" } );\r\n        errObj = err.request;\r\n    } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        console.log( 'Error', err.message );\r\n        ElMessage.error( { message: \"系統錯誤，請洽客服人員\", customClass: \"maxWidth-90\" } );\r\n        errObj = err.message;\r\n    }\r\n    return errObj;\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        userData: {}\r\n    },\r\n    actions: {\r\n        async handleRegister ( { commit }, payload ) {\r\n            try {\r\n                const { userEmail, password } = payload;\r\n                const registerRes = await postApiUserRegister( payload );\r\n                const loginRes = await postApiUserLogin( { userEmail, password } );\r\n                localStorage.setItem( \"user\", JSON.stringify( loginRes.data.user ) );\r\n                localStorage.setItem( \"token\", JSON.stringify( loginRes.data.token ) );\r\n                commit( \"setUserActive\", loginRes.data );\r\n                return loginRes.data || registerRes.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        async handleLogin ( { commit }, payload ) {\r\n            try {\r\n                const res = await postApiUserLogin( payload );\r\n                localStorage.setItem( \"user\", JSON.stringify( res.data.user ) );\r\n                localStorage.setItem( \"token\", JSON.stringify( res.data.token ) );\r\n                commit( \"setUserActive\", res.data );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        async handleLoginWithGoogle ( { commit }, payload ) {\r\n            try {\r\n                const res = await postApiUserLoginWithGoogle( payload );\r\n                localStorage.setItem( \"user\", JSON.stringify( res.data.user ) );\r\n                localStorage.setItem( \"token\", JSON.stringify( res.data.token ) );\r\n                commit( \"setUserActive\", res.data );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        async handleUpdateUser ( { commit }, payload ) {\r\n            const { data, token } = payload;\r\n            try {\r\n                const res = await patchApiUserUpdate( data, token );\r\n                localStorage.setItem( \"user\", JSON.stringify( res.data.user ) );\r\n                commit( \"setUserActive\", res.data );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        handleRemoveUser ( { commit } ) {\r\n            localStorage.removeItem( \"user\" );\r\n            localStorage.removeItem( \"token\" );\r\n            commit( \"removeUser\" );\r\n        }\r\n    },\r\n    mutations: {\r\n        setUserActive ( state, payload ) {\r\n            state.userData = payload.user;\r\n            if ( payload.token ) {\r\n                state.token = payload.token;\r\n            }\r\n        },\r\n        removeUser ( state ) {\r\n            state.userData = {};\r\n            state.token = \"\";\r\n        },\r\n    },\r\n    getters: {\r\n        getUserData ( state ) {\r\n            if ( localStorage.getItem( \"user\" ) !== \"undefined\" ) {\r\n                state.userData = JSON.parse( localStorage.getItem( \"user\" ) );\r\n            }\r\n            return state.userData;\r\n        },\r\n        getToken ( state ) {\r\n            if ( localStorage.getItem( \"token\" ) !== \"undefined\" ) {\r\n                state.token = JSON.parse( localStorage.getItem( \"token\" ) );\r\n            }\r\n            return state.token;\r\n        },\r\n    }\r\n};","import {\r\n    postApiWalletCreate,\r\n    getApiWalletsRead,\r\n    getApiWalletRead,\r\n    patchApiWalletUpdate,\r\n    deleteApiWalletsDelete,\r\n    deleteApiWalletDelete,\r\n} from \"../../api\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nconst errorHandling = ( err ) => {\r\n    let errObj;\r\n    if ( err.response ) {\r\n        // Request made and server responded\r\n        console.log( err.response.data );\r\n        console.log( err.response.status );\r\n        ElMessage.error( { message: err.response.data.msg, customClass: \"maxWidth-90\" } );\r\n        errObj = err.response.data;\r\n    } else if ( err.request ) {\r\n        // The request was made but no response was received\r\n        console.log( err.request );\r\n        ElMessage.error( { message: \"系統錯誤，請洽客服人員\", customClass: \"maxWidth-90\" } );\r\n        errObj = err.request;\r\n    } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        console.log( 'Error', err.message );\r\n        ElMessage.error( { message: \"系統錯誤，請洽客服人員\", customClass: \"maxWidth-90\" } );\r\n        errObj = err.message;\r\n    }\r\n    return errObj;\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        wallets: [],\r\n        wallet: {},\r\n    },\r\n    actions: {\r\n        async handleCreateWallet ( { commit }, payload ) {\r\n            const { data, token } = payload;\r\n            try {\r\n                const res = await postApiWalletCreate( data, token );\r\n                commit( \"createWallet\", res.data );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        async handleGetWallets ( { commit }, token ) {\r\n            try {\r\n                const res = await getApiWalletsRead( token );\r\n                commit( \"setWallets\", res.data );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        async handleGetWallet ( { commit }, payload ) {\r\n            try {\r\n                const { token, _id } = payload;\r\n                const res = await getApiWalletRead( token, _id );\r\n                commit( \"setWallet\", res.data );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        async handleUpdateWallet ( { commit }, payload ) {\r\n            const { data, token, _id } = payload;\r\n\r\n            try {\r\n                const res = await patchApiWalletUpdate( data, token, _id );\r\n                commit( \"setWallet\", res.data );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n        async handleDeleteWallet ( { commit }, payload ) {\r\n            const { token, _id } = payload;\r\n            try {\r\n                const res = await deleteApiWalletDelete( token, _id );\r\n                commit( \"deleteWallet\" );\r\n                return res.data;\r\n            } catch ( err ) {\r\n                return errorHandling( err );\r\n            }\r\n        },\r\n    },\r\n    mutations: {\r\n        createWallet ( state ) {\r\n            console.log( \"create successfully\" );\r\n        },\r\n        setWallets ( state, payload ) {\r\n            const { wallets } = payload;\r\n            wallets.forEach( item => {\r\n                let totalAmounts = item.initialTotal;\r\n                let expense = 0;\r\n                let income = 0;\r\n                item.transaction.forEach( trans => {\r\n                    if ( trans.transType === \"income\" ) {\r\n                        totalAmounts += trans.amount;\r\n                    } else {\r\n                        totalAmounts -= trans.amount;\r\n                    }\r\n                    if ( new Date() - new Date( trans.date ) < 60 * 60 * 24 * 30 * 1000 ) {\r\n                        if ( trans.transType === \"income\" ) {\r\n                            income += trans.amount;\r\n                        } else {\r\n                            expense += trans.amount;\r\n                        }\r\n                    }\r\n                } );\r\n                item.totalAmounts = totalAmounts;\r\n                item.expense = expense;\r\n                item.income = income;\r\n                item.total = expense + income;\r\n                item.monthTotal = -expense + income;\r\n            } );\r\n            state.wallets = wallets;\r\n        },\r\n        setWallet ( state, payload ) {\r\n            state.wallet = payload.wallet;\r\n        },\r\n        deleteWallet ( state ) {\r\n            console.log( \"delete successfully\" );\r\n        },\r\n    },\r\n    getters: {\r\n        getWallets ( state ) {\r\n            return state.wallets;\r\n        },\r\n        getWallet ( state ) {\r\n            return state.wallet;\r\n        },\r\n    }\r\n};","import { createStore } from 'vuex';\nimport User from \"./User\";\nimport Wallet from \"./Wallet\";\n\nexport default createStore( {\n\tstate: {\n\t\tisMenuOpen: false,\n\t},\n\tactions: {\n\t\thandleSetIsMenuOpen ( { commit }, bool ) {\n\t\t\tcommit( \"setIsMenuOpen\", bool );\n\t\t},\n\t},\n\tmutations: {\n\t\tsetIsMenuOpen ( state, bool ) {\n\t\t\tstate.isMenuOpen = !bool;\n\t\t},\n\t},\n\tgetters: {\n\t\tgetIsMenuOpen ( state ) {\n\t\t\treturn state.isMenuOpen;\n\t\t},\n\t},\n\tmodules: {\n\t\tUser,\n\t\tWallet\n\t}\n} );\n","<script>\nimport { useRouter } from \"vue-router\";\nexport default {\n\tsetup() {\n\t\tconst router = useRouter();\n\t\trouter.push(\"/wallet\");\n\t},\n};\n</script>\n\n<template> </template>\n\n<style></style>\n","import { render } from \"./Home.vue?vue&type=template&id=048e6e0c\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<script>\r\nimport { ref, reactive, watch, computed, onBeforeMount } from \"vue\";\r\nimport { PieChart, BarChart, LineChart } from \"echarts/charts\";\r\nimport { CanvasRenderer } from \"echarts/renderers\";\r\nimport { useStore } from \"vuex\";\r\nimport { use } from \"echarts/core\"\r\nimport {\r\n\tTitleComponent,\r\n\tTooltipComponent,\r\n\tLegendComponent,\r\n\tGridComponent,\r\n\tVisualMapComponent\r\n} from \"echarts/components\";\r\nimport VChart from \"vue-echarts\";\r\n\r\nuse([\r\n\tCanvasRenderer,\r\n\tPieChart,\r\n\tBarChart,\r\n\tLineChart,\r\n\tTitleComponent,\r\n\tTooltipComponent,\r\n\tLegendComponent,\r\n\tGridComponent,\r\n\tVisualMapComponent\r\n]);\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tVChart,\r\n\t},\r\n\tasync setup() {\r\n\t\tconst store = useStore();\r\n\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\t\tawait store.dispatch(\"Wallet/handleGetWallets\", token.value);\r\n\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst allTypes = reactive({\r\n\t\t\texpense: user.value.expenseType,\r\n\t\t\tincome: user.value.incomeType,\r\n\t\t});\r\n\t\tconst wallets = computed(() => {\r\n\t\t\treturn store.getters[\"Wallet/getWallets\"];\r\n\t\t});\r\n\r\n\t\t// get transaction data of certain days before\r\n\t\tconst getDateBefore = (day, DateObj = null) => {\r\n\t\t\tconst dateBefore = DateObj || new Date();\r\n\t\t\tif (!DateObj) {\r\n\t\t\t\tdateBefore.setTime(new Date().getTime() - 3600 * 1000 * 24 * day);\r\n\t\t\t}\r\n\t\t\tconst year = dateBefore.getFullYear();\r\n\t\t\tlet month = dateBefore.getMonth() + 1;\r\n\t\t\tmonth = month < 10 ? \"0\" + month : month;\r\n\t\t\tlet date = dateBefore.getDate();\r\n\t\t\tdate = date < 10 ? \"0\" + date : date;\r\n\t\t\treturn `${year}-${month}-${date}`;\r\n\t\t}\r\n\t\t// user's selections\r\n\t\tconst userSelect = reactive({\r\n\t\t\twallet: \"all\",\r\n\t\t\ttimeFrom: getDateBefore(90),\r\n\t\t\ttimeTo: getDateBefore(0),\r\n\t\t\tselected_expenseType: allTypes.expense,\r\n\t\t\tselected_incomeType: allTypes.income,\r\n\t\t\tcustomTime: [getDateBefore(90), getDateBefore(0)]\r\n\t\t});\r\n\r\n\t\t// get selected wallets data\r\n\t\tconst allWallets = computed(() => {\r\n\t\t\tlet ids = [];\r\n\t\t\tif (wallets.value) {\r\n\t\t\t\twallets.value.forEach((item) => {\r\n\t\t\t\t\tids.push(item._id);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn ids;\r\n\t\t});\r\n\t\tconst selectedWallets = computed(() => {\r\n\t\t\tlet ws = [];\r\n\t\t\tif (userSelect.wallet && wallets.value) {\r\n\t\t\t\tif (userSelect.wallet === \"all\") {\r\n\t\t\t\t\tallWallets.value.forEach((item) => {\r\n\t\t\t\t\t\tconst foundWallet = wallets.value.find((wallet) => {\r\n\t\t\t\t\t\t\treturn wallet._id === item;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tws.push(foundWallet);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst foundWallet = wallets.value.find((wallet) => {\r\n\t\t\t\t\t\treturn wallet._id === userSelect.wallet;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tws.push(foundWallet);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn ws;\r\n\t\t});\r\n\r\n\t\t// set change event for check box\r\n\t\tconst isIndeterminate = reactive({\r\n\t\t\texpense: false,\r\n\t\t\tincome: false,\r\n\t\t});\r\n\t\tconst selectedAll = reactive({\r\n\t\t\texpense: true,\r\n\t\t\tincome: true,\r\n\t\t});\r\n\t\tconst handleCheckAllChange = (opt, val) => {\r\n\t\t\tuserSelect[`selected_${opt}Type`] = val ? allTypes[opt] : [];\r\n\t\t\tisIndeterminate.[opt] = false;\r\n\t\t};\r\n\t\tconst handleCheckedTypesChange = (opt, value) => {\r\n\t\t\tconst checkedCount = value.length;\r\n\t\t\tselectedAll[opt] = checkedCount === allTypes[opt].length;\r\n\t\t\tisIndeterminate[opt] =\r\n\t\t\t\tcheckedCount > 0 && checkedCount < allTypes[opt].length;\r\n\t\t};\r\n\r\n\t\t// set chart data\r\n\t\tconst chartData = reactive({\r\n\t\t\tx: [],\r\n\t\t\texpense: [],\r\n\t\t\tincome: [],\r\n\t\t\tremain: [],\r\n\t\t\texpenseData: [],\r\n\t\t\tincomeData: []\r\n\t\t})\r\n\t\t// get chart data\r\n\t\tconst getChartData = () => {\r\n\t\t\tconst start = userSelect.timeFrom === \"custom\"\r\n\t\t\t\t\t\t\t? userSelect.customTime[0] : userSelect.timeFrom;\r\n\t\t\tconst end = userSelect.timeFrom === \"custom\"\r\n\t\t\t\t\t\t\t? userSelect.customTime[1] : userSelect.timeTo;\r\n\t\t\tconst Mstart = start.split(\"-\")[1] - 0;\r\n\t\t\tconst Mend = end.split(\"-\")[1] - 0;\r\n\t\t\tconst date_range = [start];\r\n\r\n\t\t\tchartData.x = [];\r\n\t\t\tchartData.expense = [];\r\n\t\t\tchartData.income = [];\r\n\t\t\tchartData.remain = [];\r\n\t\t\tchartData.expenseData = [];\r\n\t\t\tchartData.incomeData = [];\r\n\r\n\t\t\tfor (let i = Mstart; i < Mend + 1; i++) {\r\n\t\t\t\tconst dateStr = new Date(`${start.split(\"-\")[0]}-${i + 1}`);\r\n\t\t\t\tconst dateStr2 = new Date(new Date(end).getTime() + 86400000);\r\n\t\t\t\tconst rangeEnd = i === Mend\r\n\t\t\t\t\t\t\t\t\t? getDateBefore(0, dateStr2) : getDateBefore(0, dateStr);\r\n\t\t\t\tchartData.x.push(`${i}月`);\r\n\t\t\t\tdate_range.push(rangeEnd);\r\n\t\t\t}\r\n\r\n\t\t\tchartData.x.forEach((item, idx) => {\r\n\t\t\t\tlet e = 0;\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\tlet r = 0;\r\n\t\t\t\tlet pe = {};\r\n\t\t\t\tlet pi = {};\r\n\t\t\t\tselectedWallets.value.forEach(wallet => {\r\n\t\t\t\t\twallet.transaction.forEach(trans => {\r\n\t\t\t\t\t\tconst transDate = new Date(trans.date);\r\n\t\t\t\t\t\tconst consumeType = trans.consumeType;\r\n\r\n\t\t\t\t\t\tif ( transDate >= new Date(date_range[idx]) &&\r\n\t\t\t\t\t\t\ttransDate < new Date(date_range[idx + 1]) &&\r\n\t\t\t\t\t\t\t(userSelect.selected_expenseType.indexOf(consumeType) !== -1 ||\r\n\t\t\t\t\t\t\tuserSelect.selected_incomeType.indexOf(consumeType) !== -1)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tif (trans.transType === \"income\") {\r\n\t\t\t\t\t\t\t\ti += trans.amount;\r\n\t\t\t\t\t\t\t\tr += trans.amount;\r\n\t\t\t\t\t\t\t\tpi[consumeType] = pi[consumeType] === undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 0 + trans.amount\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: pi[consumeType] + trans.amount;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\te += trans.amount;\r\n\t\t\t\t\t\t\t\tr -= trans.amount;\r\n\t\t\t\t\t\t\t\tpe[consumeType] = pe[consumeType] === undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 0 + trans.amount\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: pe[consumeType] + trans.amount;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tchartData.expense.push(e);\r\n\t\t\t\tchartData.income.push(i);\r\n\t\t\t\tchartData.remain.push(r);\r\n\t\t\t\tconsole.log(pe);\r\n\t\t\t\tObject.keys(pe).forEach(key => {\r\n\t\t\t\t\tchartData.expenseData.push({value: pe[key], name: key});\r\n\t\t\t\t});\r\n\t\t\t\tObject.keys(pi).forEach(key => {\r\n\t\t\t\t\tchartData.incomeData.push({value: pi[key], name: key});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t\tgetChartData();\r\n\t\tconsole.log(chartData);\r\n\r\n\t\tconst isPie = ref(false);\r\n\t\tconst BarChartOption = computed(() => {\r\n\t\t\treturn {\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\ttype: 'cross',\r\n\t\t\t\t\t\tcrossStyle: {\r\n\t\t\t\t\t\t\tcolor: '#999'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdata: ['支出', '收入', '餘額']\r\n\t\t\t\t},\r\n\t\t\t\txAxis: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tdata: chartData.x,\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\ttype: 'shadow'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tyAxis: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\tname: '金額',\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tformatter: '{value} 元'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\tname: '餘額',\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tformatter: '{value} 元'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '支出',\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\tcolor: '#ef6b7b',\r\n\t\t\t\t\t\tdata: chartData.expense\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '收入',\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\tcolor: '#87d4b1',\r\n\t\t\t\t\t\tdata: chartData.income\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '餘額',\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tyAxisIndex: 1,\r\n\t\t\t\t\t\tdata: chartData.remain\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst PieChartOption = computed(() => {\r\n\t\t\treturn {\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'item',\r\n\t\t\t\t\tformatter: '{a} <br/>{b} : {c} ( {d}% )'\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\torient: 'vertical',\r\n\t\t\t\t\tleft: 'left',\r\n\t\t\t\t},\r\n\t\t\t\tvisualMap: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\tmin: 500,\r\n\t\t\t\t\t\tmax: 2000,\r\n\t\t\t\t\t\tinRange: {\r\n\t\t\t\t\t\t\tcolorLightness: [0.2, 0.65]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '占比',\r\n\t\t\t\t\t\ttype: 'pie',\r\n\t\t\t\t\t\tradius: '50%',\r\n\t\t\t\t\t\tcenter: ['25%', '50%'],\r\n\t\t\t\t\t\tdata: chartData.expenseData.sort((a, b) => b.value - a.value),\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\t\tshadowBlur: 10,\r\n\t\t\t\t\t\t\t\tshadowOffsetX: 0,\r\n\t\t\t\t\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.5)'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tcolor: '#ef6b7b',\r\n\t\t\t\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.5)'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '占比',\r\n\t\t\t\t\t\ttype: 'pie',\r\n\t\t\t\t\t\tradius: '50%',\r\n\t\t\t\t\t\tcenter: ['75%', '50%'],\r\n\t\t\t\t\t\tdata: chartData.incomeData.sort((a, b) => b.value - a.value),\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\t\tshadowBlur: 10,\r\n\t\t\t\t\t\t\t\tshadowOffsetX: 0,\r\n\t\t\t\t\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.5)'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tcolor: '#87d4b1',\r\n\t\t\t\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.5)'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t})\r\n\r\n\t\twatch(() => ({...userSelect}), (nv, ov) => {\r\n\t\t\tgetChartData();\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\twallets,\r\n\t\t\tuserSelect,\r\n\t\t\tselectedWallets,\r\n\t\t\tallTypes,\r\n\t\t\tisIndeterminate,\r\n\t\t\tselectedAll,\r\n\t\t\thandleCheckAllChange,\r\n\t\t\thandleCheckedTypesChange,\r\n\t\t\tBarChartOption,\r\n\t\t\tPieChartOption,\r\n\t\t\tgetDateBefore,\r\n\t\t\tisPie\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-row>\r\n\t\t<el-col :span=\"3\">\r\n\t\t\t<el-select\r\n\t\t\t\tv-model=\"userSelect.wallet\"\r\n\t\t\t\tplaceholder=\"請選擇帳戶\"\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t>\r\n\t\t\t\t<el-option label=\"全部帳戶\" value=\"all\" />\r\n\t\t\t\t<el-option\r\n\t\t\t\t\tv-for=\"wallet in wallets\"\r\n\t\t\t\t\t:label=\"wallet.walletName\"\r\n\t\t\t\t\t:value=\"wallet._id\"\r\n\t\t\t\t/>\r\n\t\t\t</el-select>\r\n\t\t</el-col>\r\n\t\t<el-col :span=\"8\" :offset=\"1\">\r\n\t\t\t<el-radio-group v-model=\"userSelect.timeFrom\" size=\"small\">\r\n\t\t\t\t<el-radio-button :label=\"getDateBefore(90)\">\r\n\t\t\t\t\t最近3個月\r\n\t\t\t\t</el-radio-button>\r\n\t\t\t\t<el-radio-button :label=\"getDateBefore(180)\">\r\n\t\t\t\t\t最近6個月\r\n\t\t\t\t</el-radio-button>\r\n\t\t\t\t<el-radio-button :label=\"`${new Date().getFullYear()}-01-01`\">\r\n\t\t\t\t\t從年初至今\r\n\t\t\t\t</el-radio-button>\r\n\t\t\t\t<el-radio-button label=\"custom\">自訂</el-radio-button>\r\n\t\t\t</el-radio-group>\r\n\t\t</el-col>\r\n\t\t<el-col :span=\"6\" :offset=\"1\">\r\n\t\t\t<div>\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\tv-model=\"userSelect.customTime\"\r\n\t\t\t\t\ttype=\"daterange\"\r\n\t\t\t\t\trange-separator=\"至\"\r\n\t\t\t\t\tstart-placeholder=\"開始日期\"\r\n\t\t\t\t\tend-placeholder=\"結束日期\"\r\n\t\t\t\t\tunlink-panels\r\n\t\t\t\t\t:clearable=\"false\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue-format=\"YYYY-MM-DD\"\r\n\t\t\t\t\t:disabled=\"userSelect.timeFrom !== 'custom'\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row class=\"select-row\">\r\n\t\t<el-col :span=\"4\">\r\n\t\t\t<span class=\"text\">分析項目篩選</span>\r\n\t\t</el-col>\r\n\t\t<el-col :span=\"2\">\r\n\t\t\t<el-checkbox\r\n\t\t\t\t:indeterminate=\"isIndeterminate.expense\"\r\n\t\t\t\tv-model=\"selectedAll.expense\"\r\n\t\t\t\t@change=\"handleCheckAllChange('expense', selectedAll.expense)\"\r\n\t\t\t>\r\n\t\t\t\t支出項目全選\r\n\t\t\t</el-checkbox>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row class=\"group-row\">\r\n\t\t<el-col :span=\"20\" :offset=\"4\">\r\n\t\t\t<el-checkbox-group\r\n\t\t\t\tv-model=\"userSelect.selected_expenseType\"\r\n\t\t\t\t@change=\"\r\n\t\t\t\t\thandleCheckedTypesChange(\r\n\t\t\t\t\t\t'expense',\r\n\t\t\t\t\t\tuserSelect.selected_expenseType\r\n\t\t\t\t\t)\r\n\t\t\t\t\"\r\n\t\t\t>\r\n\t\t\t\t<el-checkbox\r\n\t\t\t\t\tv-for=\"item in allTypes.expense\"\r\n\t\t\t\t\t:label=\"item\"\r\n\t\t\t\t\t:key=\"item\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{ item }}\r\n\t\t\t\t</el-checkbox>\r\n\t\t\t</el-checkbox-group>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row>\r\n\t\t<el-col :span=\"2\" :offset=\"4\">\r\n\t\t\t<el-checkbox\r\n\t\t\t\t:indeterminate=\"isIndeterminate.income\"\r\n\t\t\t\tv-model=\"selectedAll.income\"\r\n\t\t\t\t@change=\"handleCheckAllChange('income', selectedAll.income)\"\r\n\t\t\t>\r\n\t\t\t\t收入項目全選\r\n\t\t\t</el-checkbox>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row class=\"group-row\">\r\n\t\t<el-col :span=\"20\" :offset=\"4\">\r\n\t\t\t<el-checkbox-group\r\n\t\t\t\tv-model=\"userSelect.selected_incomeType\"\r\n\t\t\t\t@change=\"\r\n\t\t\t\t\thandleCheckedTypesChange(\r\n\t\t\t\t\t\t'income',\r\n\t\t\t\t\t\tuserSelect.selected_incomeType\r\n\t\t\t\t\t)\r\n\t\t\t\t\"\r\n\t\t\t>\r\n\t\t\t\t<el-checkbox\r\n\t\t\t\t\tv-for=\"item in allTypes.income\"\r\n\t\t\t\t\t:label=\"item\"\r\n\t\t\t\t\t:key=\"item\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{ item }}\r\n\t\t\t\t</el-checkbox>\r\n\t\t\t</el-checkbox-group>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row style=\"margin-top: 40px;\">\r\n\t\t<el-col :span=\"4\">\r\n\t\t\t<span class=\"text\">呈現方式</span>\r\n\t\t</el-col>\r\n\t\t<el-col :span=\"6\" size=\"small\">\r\n\t\t\t<el-switch\r\n\t\t\t\tv-model=\"isPie\"\r\n\t\t\t\tactive-text=\"圓餅圖\"\r\n\t\t\t\tinactive-text=\"柱狀折線圖\"\r\n\t\t\t>\r\n\t\t\t</el-switch>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row>\r\n\t\t<el-col>\r\n\t\t\t<v-chart class=\"chart\" :option=\"BarChartOption\" v-if=\"!isPie\" />\r\n\t\t</el-col>\r\n\t\t<el-col>\r\n\t\t\t<v-chart class=\"chart\" :option=\"PieChartOption\" v-if=\"isPie\" />\r\n\t\t</el-col>\r\n\t</el-row>\r\n</template>\r\n\r\n<style lang=\"sass\" scoped>\r\n.el-row\r\n\tmargin-top: 1rem\r\n\t.el-col\r\n\t\ttext-align: left\r\n\t\t.el-checkbox-group\r\n\t\t\tdisplay: flex\r\n\t\t\tjustify-content: flex-start\r\n\t\t\tflex-wrap: wrap\r\n\t\t\twidth: 80%\r\n\t\t\t.el-checkbox\r\n\t\t\t\twidth: 14.85%\r\n\t\t.text\r\n\t\t\tpadding-left: 15px\r\n\t\t\tfont-size: 14px\r\n\t\t.chart\r\n\t\t\tmargin-top: 2rem\r\n\t\t\twidth: 100%\r\n\t\t\theight: 400px\r\n\t&.select-row\r\n\t\tmargin-top: 2rem\r\n\t&.group-row\r\n\t\tmargin-top: 0\r\n</style>\r\n","import { render } from \"./Analysis.vue?vue&type=template&id=76b17b88&scoped=true\"\nimport script from \"./Analysis.vue?vue&type=script&lang=js\"\nexport * from \"./Analysis.vue?vue&type=script&lang=js\"\n\nimport \"./Analysis.vue?vue&type=style&index=0&id=76b17b88&lang=sass&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-76b17b88\"\n\nexport default script","<script>\r\nimport { ref, reactive, computed, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\t// use vuex\r\n\t\tconst store = useStore();\r\n\t\t// use vue router\r\n\t\tconst route = useRoute();\r\n\t\tconst router = useRouter();\r\n\r\n\t\t// set form binding data\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\r\n\t\t// define refs\r\n\t\tconst formRef = ref(null);\r\n\t\tconst formLabelPosition = ref(\"left\");\r\n\t\tconst formData = reactive({\r\n\t\t\tuserName: user.value.userName,\r\n\t\t\tuserEmail: user.value.userEmail,\r\n\t\t\toriginalPwd: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tpwdCheck: \"\",\r\n\t\t});\r\n\t\tconst isEditable = reactive({\r\n\t\t\tuserName: false,\r\n\t\t\tuserEmail: false,\r\n\t\t\toriginalPwd: false,\r\n\t\t\tpassword: false,\r\n\t\t\tpwdCheck: false,\r\n\t\t});\r\n\r\n\t\tconst checkLabelPosition = () => {\r\n\t\t\tconst width = document.body.clientWidth;\r\n\t\t\tif (width > 500) {\r\n\t\t\t\tformLabelPosition.value = \"left\";\r\n\t\t\t} else {\r\n\t\t\t\tformLabelPosition.value = \"top\";\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// valid\r\n\t\tconst valid = ref(false);\r\n\t\t// password validation function used in rules\r\n\t\tconst pwdCheckValidator = (rule, value, callback) => {\r\n\t\t\tif (value !== formData.password) {\r\n\t\t\t\tcallback(new Error(\"輸入密碼不一致，請檢查後再次輸入\"));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\t// validation rules used by element plus\r\n\t\tconst rules = {\r\n\t\t\tuserName: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請輸入用戶名稱\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tmin: 2,\r\n\t\t\t\t\tmax: 50,\r\n\t\t\t\t\tmessage: \"用戶名稱長度需介於2至50字之間\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tuserEmail: [\r\n\t\t\t\t{ required: true, message: \"請輸入信箱\", trigger: \"blur\" },\r\n\t\t\t],\r\n\t\t\tpassword: [\r\n\t\t\t\t{\r\n\t\t\t\t\tmin: 6,\r\n\t\t\t\t\tmax: 1024,\r\n\t\t\t\t\tmessage: \"密碼長度需大於6字元\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tpwdCheck: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalidator: pwdCheckValidator,\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t};\r\n\r\n\t\tconst changeEditStatus = (key) => {\r\n\t\t\tisEditable[key] = !isEditable[key];\r\n\t\t};\r\n\r\n\t\tconst isLoading = ref(false);\r\n\t\tconst checkPwdText = ref(\"檢查\");\r\n\t\tconst checkPwdType = ref(\"warning\");\r\n\t\tconst checkOriginalPwd = async () => {\r\n\t\t\tif (!isEditable.password && !isEditable.pwdCheck) {\r\n\t\t\t\tisLoading.value = true;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// if pass the validator, then start login process\r\n\t\t\t\t\tconst checkUser = await store.dispatch(\"User/handleLogin\", {\r\n\t\t\t\t\t\tuserEmail: user.value.userEmail,\r\n\t\t\t\t\t\tpassword: formData.originalPwd,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tisLoading.value = false;\r\n\t\t\t\t\tif (!checkUser || !checkUser.success) throw checkUser;\r\n\r\n\t\t\t\t\t// if login successes\r\n\t\t\t\t\tisEditable.password = true;\r\n\t\t\t\t\tisEditable.pwdCheck = true;\r\n\t\t\t\t\tcheckPwdText.value = \"成功\";\r\n\t\t\t\t\tcheckPwdType.value = \"success\";\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tcheckPwdText.value = \"取消\";\r\n\t\t\t\t\t\tcheckPwdType.value = \"danger\";\r\n\t\t\t\t\t}, 3000);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tisEditable.password = false;\r\n\t\t\t\tisEditable.pwdCheck = false;\r\n\t\t\t\tcheckPwdText.value = \"檢查\";\r\n\t\t\t\tcheckPwdType.value = \"warning\";\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// register & login buttons\r\n\t\tconst handleUpdateUserData = async (ref) => {\r\n\t\t\t// form validation\r\n\t\t\tref.validate((pass) => {\r\n\t\t\t\tvalid.value = pass;\r\n\t\t\t});\r\n\t\t\tif (!valid.value) return false;\r\n\r\n\t\t\tlet data = {};\r\n\t\t\tif (formData.userName !== user.value.userName) {\r\n\t\t\t\tdata.userName = formData.userName;\r\n\t\t\t}\r\n\t\t\tif (formData.userEmail !== user.value.userEmail) {\r\n\t\t\t\tdata.userEmail = formData.userEmail;\r\n\t\t\t}\r\n\t\t\tif (formData.password !== \"\") {\r\n\t\t\t\tdata.password = formData.password;\r\n\t\t\t}\r\n\r\n\t\t\tconst token = computed(() => {\r\n\t\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t\t});\r\n\r\n\t\t\t// if pass the validator, start registration process\r\n\t\t\ttry {\r\n\t\t\t\tconst updateUser = await store.dispatch(\r\n\t\t\t\t\t\"User/handleUpdateUser\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!updateUser || !updateUser.success) throw updateUser;\r\n\r\n\t\t\t\t// if login successes\r\n\t\t\t\tElMessage.success({\r\n\t\t\t\t\tmessage: \"變更成功！\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(user.value);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tonMounted(() => {\r\n\t\t\tcheckLabelPosition();\r\n\t\t\twindow.addEventListener(\"resize\", checkLabelPosition);\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tformLabelPosition,\r\n\t\t\tformRef,\r\n\t\t\tisEditable,\r\n\t\t\tformData,\r\n\t\t\trules,\r\n\t\t\thandleUpdateUserData,\r\n\t\t\tchangeEditStatus,\r\n\t\t\tcheckOriginalPwd,\r\n\t\t\tisLoading,\r\n\t\t\tcheckPwdText,\r\n\t\t\tcheckPwdType,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-container class=\"user-container\">\r\n\t\t<el-row>\r\n\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t<el-form\r\n\t\t\t\t\tref=\"formRef\"\r\n\t\t\t\t\t:model=\"formData\"\r\n\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t:label-position=\"formLabelPosition\"\r\n\t\t\t\t\tlabel-width=\"140px\"\r\n\t\t\t\t\tstatus-icon\r\n\t\t\t\t\t:hide-required-asterisk=\"true\"\r\n\t\t\t\t\tinline-message\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-form-item label=\"使用者名稱\" prop=\"userName\">\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"formData.userName\"\r\n\t\t\t\t\t\t\tplaceholder=\"請輸入用戶名稱\"\r\n\t\t\t\t\t\t\t:disabled=\"!isEditable.userName\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\tplain\r\n\t\t\t\t\t\t\t:type=\"isEditable.userName ? 'success' : 'primary'\"\r\n\t\t\t\t\t\t\t@click=\"changeEditStatus('userName')\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ isEditable.userName ? \"儲存\" : \"編輯\" }}\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"電子郵件\" prop=\"userEmail\">\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"formData.userEmail\"\r\n\t\t\t\t\t\t\tplaceholder=\"請輸入電子郵件信箱\"\r\n\t\t\t\t\t\t\t:disabled=\"!isEditable.userEmail\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\tplain\r\n\t\t\t\t\t\t\t:type=\"isEditable.userEmail ? 'success' : 'primary'\"\r\n\t\t\t\t\t\t\t@click=\"changeEditStatus('userEmail')\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ isEditable.userEmail ? \"儲存\" : \"編輯\" }}\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"原密碼\">\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"formData.originalPwd\"\r\n\t\t\t\t\t\t\tplaceholder=\"請輸入原密碼\"\r\n\t\t\t\t\t\t\tshow-password\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\tplain\r\n\t\t\t\t\t\t\t:type=\"checkPwdType\"\r\n\t\t\t\t\t\t\t@click=\"checkOriginalPwd\"\r\n\t\t\t\t\t\t\t:loading=\"isLoading\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ checkPwdText }}\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item\r\n\t\t\t\t\t\tlabel=\"新密碼\"\r\n\t\t\t\t\t\tprop=\"password\"\r\n\t\t\t\t\t\tclass=\"transparent-item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"formData.password\"\r\n\t\t\t\t\t\t\t:placeholder=\"\r\n\t\t\t\t\t\t\t\tisEditable.password\r\n\t\t\t\t\t\t\t\t\t? '請輸入新密碼'\r\n\t\t\t\t\t\t\t\t\t: '請先輸入原密碼'\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t:disabled=\"!isEditable.password\"\r\n\t\t\t\t\t\t\t:show-password=\"isEditable.password\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t<div class=\"transparent-button\" @click.prevent=\"\" />\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item\r\n\t\t\t\t\t\tlabel=\"請輸入新密碼\"\r\n\t\t\t\t\t\tprop=\"pwdCheck\"\r\n\t\t\t\t\t\tclass=\"transparent-item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"formData.pwdCheck\"\r\n\t\t\t\t\t\t\t:placeholder=\"\r\n\t\t\t\t\t\t\t\tisEditable.pwdCheck\r\n\t\t\t\t\t\t\t\t\t? '再次輸入新密碼'\r\n\t\t\t\t\t\t\t\t\t: '請先輸入原密碼'\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t:disabled=\"!isEditable.pwdCheck\"\r\n\t\t\t\t\t\t\t:show-password=\"isEditable.pwdCheck\"\r\n\t\t\t\t\t\t\t@keyup.enter.native=\"handleUpdateUserData(formRef)\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t<div class=\"transparent-button\" @click.prevent=\"\" />\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</el-col>\r\n\t\t\t<el-col\r\n\t\t\t\t:span=\"8\"\r\n\t\t\t\t:offset=\"8\"\r\n\t\t\t\tstyle=\"padding-top: 30px; padding-bottom: 20px;\"\r\n\t\t\t>\r\n\t\t\t\t<el-button\r\n\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t@click=\"handleUpdateUserData(formRef)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t確認修改\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t</el-container>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n.user-container\r\n\tpadding: 3.5rem 0\r\n\theight: 100%\r\n\tdisplay: flex\r\n\tjustify-content: center\r\n\talign-items: center\r\n\t.el-form-item\r\n\t\tmargin-bottom: 1.5rem\r\n\t\t.el-form-item__label\r\n\t\t\tfont-weight: 700\r\n\t\t\tpadding-left: 40px\r\n\t\t.el-input\r\n\t\t\twidth: 50%\r\n\t\t\tmargin-left: 20px\r\n\t\t\tmargin-right: 50px\r\n\t\t\t.el-input__inner\r\n\t\t\t\tcursor: default\r\n\t\t\t\tvertical-align: middle\r\n\t\t.transparent-button\r\n\t\t\tdisplay: inline-block\r\n\t\t\tmin-height: none\r\n\t\t\theight: 40px\r\n\t\t\ttext-align: center\r\n\t\t\tbox-sizing: border-box\r\n\t\t\tuser-select: none\r\n\t\t\t-moz-user-select: none\r\n\t\t\t-webkit-user-select: none\r\n\t\t\t-ms-user-select: none\r\n\t\t\twidth: 70px\r\n\t\t\tfont-size: 14px\r\n\t\t\tcolor: #fff\r\n\t\t\tbackground-color: #fff\r\n\t\t\tborder: none\r\n\t\t\tvertical-align: middle\r\n\t\t.el-button\r\n\t\t\tfont-size: 14px\r\n@media screen and (min-width: 768px)\r\n\t.user-container\r\n\t\t.content-row\r\n\t\t\twidth: 70%\r\n@media screen and (max-width: 500px)\r\n\t.user-container\r\n\t\t.el-form-item\r\n\t\t\tmargin-bottom: 3rem\r\n\t\t\t.el-form-item__label\r\n\t\t\t\ttext-align: center\r\n\t\t\t\tpadding-left: 0\r\n\t\t\t.el-input\r\n\t\t\t\twidth: 80%\r\n\t\t\t\tmargin-bottom: 1rem\r\n\t\t\t\tmargin-right: 0\r\n\t\t\t\tmargin-left: 0\r\n\t\t\t\t.el-input__inner\r\n\t\t\t\t\ttext-align: center\r\n\t\t\t.el-button, .transparent-button\r\n\t\t\t\twidth: 80%\r\n\t\t\t.transparent-button\r\n\t\t\t\theight: 0px\r\n\t\t\t&.transparent-item\r\n\t\t\t\tmargin-bottom: 0rem\r\n</style>\r\n","import { render } from \"./User.vue?vue&type=template&id=56b7c945\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\n\nimport \"./User.vue?vue&type=style&index=0&id=56b7c945&lang=sass\"\nscript.render = render\n\nexport default script","<script>\r\nimport {\r\n\tref,\r\n\treactive,\r\n\tcomputed,\r\n\tonMounted,\r\n\tonBeforeUpdate,\r\n\twatch,\r\n\tonBeforeUnmount,\r\n} from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\t// use vuex\r\n\t\tconst store = useStore();\r\n\t\t// use vue router\r\n\t\tconst router = useRouter();\r\n\t\tconst route = useRoute();\r\n\t\t// define refs\r\n\t\tconst registerRef = ref(null);\r\n\t\tconst loginRef = ref(null);\r\n\t\tconst googleLoginBtn = ref(null);\r\n\t\tconst loginBtn = ref(null);\r\n\t\t// set form binding data\r\n\t\tconst registerData = reactive({\r\n\t\t\tuserName: \"\",\r\n\t\t\tuserEmail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tpwdCheck: \"\",\r\n\t\t});\r\n\t\tconst loginData = reactive({\r\n\t\t\tuserEmail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t});\r\n\r\n\t\t// valid\r\n\t\tconst valid = ref(false);\r\n\t\t// password validation function used in rules\r\n\t\tconst pwdCheckValidator = (rule, value, callback) => {\r\n\t\t\tif (value === \"\") {\r\n\t\t\t\tcallback(new Error(\"請再次輸入密碼\"));\r\n\t\t\t} else if (value !== registerData.password) {\r\n\t\t\t\tcallback(new Error(\"輸入密碼不一致，請檢查後再次輸入\"));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\t// validation rules used by element plus\r\n\t\tconst rules = {\r\n\t\t\tuserName: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請輸入用戶名稱\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tmin: 2,\r\n\t\t\t\t\tmax: 50,\r\n\t\t\t\t\tmessage: \"用戶名稱長度需介於2至50字之間\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tuserEmail: [\r\n\t\t\t\t{ required: true, message: \"請輸入信箱\", trigger: \"blur\" },\r\n\t\t\t],\r\n\t\t\tpassword: [\r\n\t\t\t\t{ required: true, message: \"請輸入密碼\", trigger: \"blur\" },\r\n\t\t\t\t{\r\n\t\t\t\t\tmin: 6,\r\n\t\t\t\t\tmax: 1024,\r\n\t\t\t\t\tmessage: \"密碼長度需大於6字元\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tpwdCheck: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tvalidator: pwdCheckValidator,\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t};\r\n\t\tconst rulesForLogin = {\r\n\t\t\tuserEmail: rules.userEmail,\r\n\t\t\tpassword: rules.password,\r\n\t\t};\r\n\r\n\t\t// register & login buttons\r\n\t\tconst handleRegister = async (ref) => {\r\n\t\t\t// form validation\r\n\t\t\tref.validate((pass) => {\r\n\t\t\t\tvalid.value = pass;\r\n\t\t\t});\r\n\t\t\tif (!valid.value) return false;\r\n\r\n\t\t\t// if pass the validator, start registration process\r\n\t\t\ttry {\r\n\t\t\t\tconst { userName, userEmail, password } = registerData;\r\n\t\t\t\tconst registerUser = await store.dispatch(\r\n\t\t\t\t\t\"User/handleRegister\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuserName,\r\n\t\t\t\t\t\tuserEmail,\r\n\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\taccountType: \"user\",\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!registerUser.success) throw registerUser;\r\n\r\n\t\t\t\t// if login successes\r\n\t\t\t\trouter.push(\"/create/wallet\");\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst handleLogin = async (ref) => {\r\n\t\t\t// form validation\r\n\t\t\tref.validate((pass) => {\r\n\t\t\t\tvalid.value = pass;\r\n\t\t\t});\r\n\t\t\tif (!valid.value) return false;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// if pass the validator, then start login process\r\n\t\t\t\tconst { userEmail, password } = loginData;\r\n\t\t\t\tconst loginUser = await store.dispatch(\"User/handleLogin\", {\r\n\t\t\t\t\tuserEmail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t});\r\n\t\t\t\tif (!loginUser.success) throw loginUser;\r\n\r\n\t\t\t\t// if login successes\r\n\t\t\t\tif (loginUser.user.mainWallet) {\r\n\t\t\t\t\trouter.push(\"/wallet\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\trouter.push(\"/create/wallet\");\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\t\t// Log in with google\r\n\t\tconst GOOGLE_CLIENT_ID = process.env.VUE_APP_GOOGLE_CLIENT_ID;\r\n\t\tconst handleLoginWithGoogle = async (data) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst loginUser = await store.dispatch(\r\n\t\t\t\t\t\"User/handleLoginWithGoogle\",\r\n\t\t\t\t\tdata\r\n\t\t\t\t);\r\n\t\t\t\tif (!loginUser.success) throw loginUser;\r\n\r\n\t\t\t\t// if login successes\r\n\t\t\t\tif (loginUser.user.mainWallet) {\r\n\t\t\t\t\trouter.push(\"/wallet\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\trouter.push(\"/create/wallet\");\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst googleInit = () => {\r\n\t\t\tgoogle.accounts.id.initialize({\r\n\t\t\t\tclient_id: GOOGLE_CLIENT_ID,\r\n\t\t\t\tlogin_uri: \"http://localhost:3000/api/auth/login\",\r\n\t\t\t\tcancel_on_tap_outside: false,\r\n\t\t\t\tcallback: handleLoginWithGoogle,\r\n\t\t\t});\r\n\t\t\tgoogle.accounts.id.renderButton(googleLoginBtn.value, {\r\n\t\t\t\tsize: \"large\",\r\n\t\t\t\ttheme: \"filled_blue\",\r\n\t\t\t\tshape: \"pill\",\r\n\t\t\t\tlocale: \"zh_TW\",\r\n\t\t\t\twidth: 250,\r\n\t\t\t});\r\n\t\t\tgoogle.accounts.id.prompt();\r\n\t\t};\r\n\t\tonMounted(() => {\r\n\t\t\tgoogleInit();\r\n\t\t});\r\n\t\tonBeforeUpdate(() => {\r\n\t\t\tgoogleInit();\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tregisterRef,\r\n\t\t\tloginRef,\r\n\t\t\tgoogleLoginBtn,\r\n\t\t\tregisterData,\r\n\t\t\tloginData,\r\n\t\t\trules,\r\n\t\t\trulesForLogin,\r\n\t\t\thandleRegister,\r\n\t\t\thandleLogin,\r\n\t\t\thandleLoginWithGoogle,\r\n\t\t\tloginBtn,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"login-container\">\r\n\t\t<el-row class=\"content-row\">\r\n\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t<el-tabs model-value=\"login\" type=\"border-card\">\r\n\t\t\t\t\t<el-tab-pane label=\"註冊\" name=\"register\">\r\n\t\t\t\t\t\t<el-form\r\n\t\t\t\t\t\t\tref=\"registerRef\"\r\n\t\t\t\t\t\t\t:model=\"registerData\"\r\n\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\tlabel-position=\"top\"\r\n\t\t\t\t\t\t\tstatus-icon\r\n\t\t\t\t\t\t\tinline-message\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<el-form-item label=\"使用者名稱\" prop=\"userName\">\r\n\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\tv-model=\"registerData.userName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"請輸入用戶名稱\"\r\n\t\t\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"電子郵件\" prop=\"userEmail\">\r\n\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\tv-model=\"registerData.userEmail\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"請輸入信箱\"\r\n\t\t\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"密碼\" prop=\"password\">\r\n\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\tv-model=\"registerData.password\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"請輸入密碼\"\r\n\t\t\t\t\t\t\t\t\tshow-password\r\n\t\t\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"再次輸入密碼\" prop=\"pwdCheck\">\r\n\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\tv-model=\"registerData.pwdCheck\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"再次輸入密碼\"\r\n\t\t\t\t\t\t\t\t\tshow-password\r\n\t\t\t\t\t\t\t\t\t@keyup.enter.native=\"\r\n\t\t\t\t\t\t\t\t\t\thandleRegister(registerRef)\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t\t<el-col :span=\"12\" :offset=\"6\">\r\n\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\tround\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleRegister(registerRef)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t註冊\r\n\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"登入\" name=\"login\">\r\n\t\t\t\t\t\t<el-form\r\n\t\t\t\t\t\t\tref=\"loginRef\"\r\n\t\t\t\t\t\t\t:model=\"loginData\"\r\n\t\t\t\t\t\t\t:rules=\"rulesForLogin\"\r\n\t\t\t\t\t\t\tlabel-position=\"top\"\r\n\t\t\t\t\t\t\tstatus-icon\r\n\t\t\t\t\t\t\tinline-message\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<el-form-item label=\"電子郵件\" prop=\"userEmail\">\r\n\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\tv-model=\"loginData.userEmail\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"請輸入信箱\"\r\n\t\t\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"密碼\" prop=\"password\">\r\n\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\tv-model=\"loginData.password\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"請輸入密碼\"\r\n\t\t\t\t\t\t\t\t\tshow-password\r\n\t\t\t\t\t\t\t\t\t@keyup.enter.native=\"handleLogin(loginRef)\"\r\n\t\t\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\tround\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tref=\"loginBtn\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleLogin(loginRef)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t登入\r\n\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"google-login-button\"\r\n\t\t\t\t\t\t\t\t\t\tref=\"googleLoginBtn\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t以Google帳戶登入\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n.login-container\r\n\tposition: relative\r\n\tmargin: 0 auto\r\n\tpadding: 0\r\n\theight: 100%\r\n\tdisplay: flex\r\n\tjustify-content: center\r\n\talign-items: center\r\n\tmax-width: 290px\r\n\t.el-tabs\r\n\t\twidth: 100%\r\n\t\tborder-radius: 5px\r\n\t\t.el-tab-pane\r\n\t\t\t.el-form-item\r\n\t\t\t\tlabel\r\n\t\t\t\t\tfont-weight: 600\r\n\t\t\t.el-button\r\n\t\t\t\tmargin-top: 2rem\r\n\t\t\t\twidth: 100%\r\n\t\t\t\tletter-spacing: 1.5px\r\n\t\t\t\tmax-width: 250px\r\n\t\t\t\t.login-button\r\n\t\t\t\t\ttext-decoration: none\r\n\t\t\t\t\tcolor: #fff\r\n\t\t\t.el-col\r\n\t\t\t\tdisplay: flex\r\n\t\t\t\tjustify-content: center\r\n\t\t\t\t.google-login-button\r\n\t\t\t\t\tmargin-top: 1.5rem\r\n@media screen and (min-width: 768px)\r\n\t.login-container\r\n\t\tmax-width: 700px\r\n\t\t.content-row\r\n\t\t\twidth: 70%\r\n\t\t\t.el-tab-pane\r\n\t\t\t\tpadding: 1.5rem 3rem\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=594b69e8\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=594b69e8&lang=sass\"\nscript.render = render\n\nexport default script","<script></script>\r\n\r\n<template>\r\n\t<router-view />\r\n</template>\r\n\r\n<style></style>\r\n","import { render } from \"./Wallet.vue?vue&type=template&id=245258f1\"\nconst script = {}\nscript.render = render\n\nexport default script","<script>\r\nimport { ref, reactive, computed } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { ElMessage, ElNotification } from \"element-plus\";\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst router = useRouter();\r\n\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst hasMainWallet = ref(user.value.mainWallet);\r\n\t\tconst setMainWallet = ref(true);\r\n\t\tif (user.value.mainWallet) {\r\n\t\t\tsetMainWallet.value = false;\r\n\t\t}\r\n\r\n\t\tconst formRef = ref(null);\r\n\t\tconst formData = reactive({\r\n\t\t\twalletName: \"\",\r\n\t\t\tinitialTotal: 0,\r\n\t\t});\r\n\r\n\t\tconst valid = ref(true);\r\n\t\tconst makeNotification = (msg) => {\r\n\t\t\tElNotification({\r\n\t\t\t\ttitle: \"提交錯誤\",\r\n\t\t\t\tmessage: msg,\r\n\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\toffset: 20,\r\n\t\t\t\ttype: \"error\",\r\n\t\t\t\tshowClose: false,\r\n\t\t\t});\r\n\t\t\tvalid.value = false;\r\n\t\t};\r\n\r\n\t\tconst formValidate = () => {\r\n\t\t\tconst { walletName, initialTotal } = formData;\r\n\t\t\tif (walletName === \"\") {\r\n\t\t\t\tmakeNotification(\"請輸入名稱\");\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (walletName.length < 2 || walletName.length > 30) {\r\n\t\t\t\tmakeNotification(\"名稱需介於2至30字之間\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (initialTotal === \"\") {\r\n\t\t\t\tmakeNotification(\"請輸入初始餘額\");\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (typeof initialTotal !== \"number\") {\r\n\t\t\t\tmakeNotification(\"請輸入數字\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvalid.value = true;\r\n\t\t};\r\n\r\n\t\tconst handleCreateNewWallet = async () => {\r\n\t\t\tformValidate();\r\n\t\t\tif (!valid.value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst token = computed(() => {\r\n\t\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t\t});\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst createWallet = await store.dispatch(\r\n\t\t\t\t\t\"Wallet/handleCreateWallet\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: formData,\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!createWallet.success) throw createWallet;\r\n\t\t\t\tif (setMainWallet.value) {\r\n\t\t\t\t\tconst updateUser = await store.dispatch(\r\n\t\t\t\t\t\t\"User/handleUpdateUser\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata: { mainWallet: createWallet.saveObj._id },\r\n\t\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (!updateUser.success) throw updateUser;\r\n\t\t\t\t}\r\n\r\n\t\t\t\trouter.push(`/wallet/${createWallet.saveObj._id}`);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\thasMainWallet,\r\n\t\t\tformRef,\r\n\t\t\tformData,\r\n\t\t\tsetMainWallet,\r\n\t\t\thandleCreateNewWallet,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-container>\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t<div class=\"card-header\">\r\n\t\t\t\t<span>為您的錢包建立一個新帳戶</span>\r\n\t\t\t</div>\r\n\t\t\t<hr />\r\n\t\t\t<div class=\"text item\">\r\n\t\t\t\t<el-form\r\n\t\t\t\t\tref=\"formRef\"\r\n\t\t\t\t\t:model=\"formData\"\r\n\t\t\t\t\tlabel-position=\"top\"\r\n\t\t\t\t\thide-required-asterisk\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-form-item label=\"帳戶名稱\" prop=\"walletName\">\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model=\"formData.walletName\"\r\n\t\t\t\t\t\t\tplaceholder=\"我的帳戶\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"初始餘額\" prop=\"initialTotal\">\r\n\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\tv-model.number.native=\"formData.initialTotal\"\r\n\t\t\t\t\t\t\tplaceholder=\"請輸入初始餘額\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"設為主帳戶\">\r\n\t\t\t\t\t\t<el-radio-group v-model=\"setMainWallet\">\r\n\t\t\t\t\t\t\t<el-radio :label=\"true\">是</el-radio>\r\n\t\t\t\t\t\t\t<el-radio :label=\"false\" :disabled=\"!hasMainWallet\">\r\n\t\t\t\t\t\t\t\t否\r\n\t\t\t\t\t\t\t</el-radio>\r\n\t\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tplain\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t@click=\"handleCreateNewWallet\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t建立新帳戶\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</el-container>\r\n</template>\r\n\r\n<style lang=\"sass\" scoped>\r\n.el-container\r\n    padding: 2.5rem 0\r\n    height: 100%\r\n    display: flex\r\n    justify-content: center\r\n    align-items: center\r\n    .el-card\r\n        padding: 1rem 2rem\r\n        position: relative\r\n        .card-header\r\n            position: relative\r\n            font-weight: 600\r\n            margin-bottom: 1.5rem\r\n        hr\r\n            position: absolute\r\n            left: 50%\r\n            transform: translateX(-50%)\r\n            background-color: #e4e4e4\r\n            border: none\r\n            height: 2px\r\n            width: 90%\r\n        .text\r\n            position: relative\r\n            margin-top: 3.5rem\r\n            .el-form-item__error\r\n                margin-top: 4px\r\n        .el-button\r\n            margin-top: 1rem\r\n\r\n.el-message\r\n    left: calc(50% + 100px)\r\n</style>\r\n","import { render } from \"./CreateWallet.vue?vue&type=template&id=f3c4459a&scoped=true\"\nimport script from \"./CreateWallet.vue?vue&type=script&lang=js\"\nexport * from \"./CreateWallet.vue?vue&type=script&lang=js\"\n\nimport \"./CreateWallet.vue?vue&type=style&index=0&id=f3c4459a&lang=sass&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f3c4459a\"\n\nexport default script","<script>\r\nimport { ref, reactive, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { ElMessage, ElNotification } from \"element-plus\";\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst router = useRouter();\r\n\t\tconst route = useRoute();\r\n\r\n\t\t// set data to render\r\n\t\tconst formRef = ref(null);\r\n\t\tconst formData = reactive({\r\n\t\t\tid: route.query ? route.query.id : \"\",\r\n\t\t\tdate: new Date(),\r\n\t\t\tamount: 0,\r\n\t\t\ttransType: \"expense\",\r\n\t\t\tconsumeType: \"\",\r\n\t\t\tnote: \"\",\r\n\t\t});\r\n\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst type = reactive({\r\n\t\t\texpense: user.value.expenseType,\r\n\t\t\tincome: user.value.incomeType,\r\n\t\t});\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\t\tstore.dispatch(\"Wallet/handleGetWallets\", token.value);\r\n\t\tconst userWallets = computed(() => {\r\n\t\t\treturn store.getters[\"Wallet/getWallets\"];\r\n\t\t});\r\n\r\n\t\t// form validation\r\n\t\tconst valid = ref(true);\r\n\t\tconst amountValidator = (rule, value, callback) => {\r\n\t\t\tif (value === 0) {\r\n\t\t\t\tcallback(new Error(\"金額不得為0\"));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst rules = {\r\n\t\t\tid: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請選擇記錄帳戶\",\r\n\t\t\t\t\ttrigger: \"change\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdate: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請選擇日期\",\r\n\t\t\t\t\ttrigger: \"change\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tamount: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請輸入金額\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t\t{ validator: amountValidator, trigger: \"blur\" },\r\n\t\t\t],\r\n\t\t\ttransType: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請選擇交易類型\",\r\n\t\t\t\t\ttrigger: \"change\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tconsumeType: [\r\n\t\t\t\t{ required: true, message: \"請選擇種類\", trigger: \"change\" },\r\n\t\t\t],\r\n\t\t\tnote: [{ max: 100, message: \"字數超過上限\", trigger: \"change\" }],\r\n\t\t};\r\n\r\n\t\tconst handleAddTransaction = async (ref) => {\r\n\t\t\tref.validate((pass) => {\r\n\t\t\t\tvalid.value = pass;\r\n\t\t\t});\r\n\t\t\tif (!valid.value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst { id, ...data } = formData;\r\n\t\t\tconst transcRecord = computed(() => {\r\n\t\t\t\tconst wallet = userWallets.value.find(\r\n\t\t\t\t\t(item) => item._id === id\r\n\t\t\t\t);\r\n\t\t\t\treturn wallet.transaction;\r\n\t\t\t});\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst createTransc = await store.dispatch(\r\n\t\t\t\t\t\"Wallet/handleUpdateWallet\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\ttransaction: [...transcRecord.value, data],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t\t_id: id,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!createTransc.success) throw createTransc;\r\n\t\t\t\trouter.push(`/wallet/${formData.id}`);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tuserWallets,\r\n\t\t\tformRef,\r\n\t\t\tformData,\r\n\t\t\ttype,\r\n\t\t\trules,\r\n\t\t\thandleAddTransaction,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-row class=\"trans-row\">\r\n\t\t<el-col :span=\"24\" :sm=\"{ span: 16, offset: 4 }\">\r\n\t\t\t<el-form\r\n\t\t\t\tref=\"formRef\"\r\n\t\t\t\t:model=\"formData\"\r\n\t\t\t\t:rules=\"rules\"\r\n\t\t\t\tlabel-position=\"left\"\r\n\t\t\t\tlabel-width=\"70px\"\r\n\t\t\t\tinline-message\r\n\t\t\t\thide-required-asterisk\r\n\t\t\t>\r\n\t\t\t\t<el-form-item label=\"帳戶\" prop=\"id\">\r\n\t\t\t\t\t<el-select v-model=\"formData.id\" placeholder=\"請選擇帳戶\">\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in userWallets\"\r\n\t\t\t\t\t\t\t:label=\"item.walletName\"\r\n\t\t\t\t\t\t\t:value=\"item._id\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"類型\" prop=\"transType\">\r\n\t\t\t\t\t<el-select\r\n\t\t\t\t\t\tv-model=\"formData.transType\"\r\n\t\t\t\t\t\tplaceholder=\"請選擇交易類型\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-option label=\"支出\" value=\"expense\" />\r\n\t\t\t\t\t\t<el-option label=\"收入\" value=\"income\" />\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"種類\" prop=\"consumeType\">\r\n\t\t\t\t\t<el-select\r\n\t\t\t\t\t\tv-model=\"formData.consumeType\"\r\n\t\t\t\t\t\tplaceholder=\"請選擇記錄種類\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in type[formData.transType]\"\r\n\t\t\t\t\t\t\t:key=\"item\"\r\n\t\t\t\t\t\t\t:label=\"item\"\r\n\t\t\t\t\t\t\t:value=\"item\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"時間\" prop=\"date\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tplaceholder=\"請選擇日期\"\r\n\t\t\t\t\t\tv-model=\"formData.date\"\r\n\t\t\t\t\t\tclass=\"date-picker\"\r\n\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"金額\" prop=\"amount\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model.number.native=\"formData.amount\"\r\n\t\t\t\t\t\tplaceholder=\"請輸入金額\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"備註\" prop=\"note\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\tmaxlength=\"100\"\r\n\t\t\t\t\t\tshow-word-limit\r\n\t\t\t\t\t\t:autosize=\"{ minRows: 2 }\"\r\n\t\t\t\t\t\tv-model=\"formData.note\"\r\n\t\t\t\t\t\tplaceholder=\"交易備註\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-col>\r\n\t\t<el-col\r\n\t\t\t:span=\"12\"\r\n\t\t\t:offset=\"6\"\r\n\t\t\t:sm=\"{ span: 8, offset: 8 }\"\r\n\t\t\tclass=\"button-col\"\r\n\t\t>\r\n\t\t\t<el-button\r\n\t\t\t\tround\r\n\t\t\t\ttype=\"success\"\r\n\t\t\t\t@click=\"handleAddTransaction(formRef)\"\r\n\t\t\t>\r\n\t\t\t\t新增交易紀錄\r\n\t\t\t</el-button>\r\n\t\t</el-col>\r\n\t</el-row>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n.trans-row\r\n\tmargin: 5rem 0px\r\n\t.el-form-item\r\n\t\tmargin-bottom: 30px\r\n\t\t.el-input, .el-textarea, .el-input.el-date-editor.date-picker\r\n\t\t\twidth: 90%\r\n\t\t.el-select\r\n\t\t\twidth: 90%\r\n\t\t\t.el-input\r\n\t\t\t\twidth: 100%\r\n\t.button-col\r\n\t\tpadding-top: 2rem\r\n@media screen and (max-width: 992px)\r\n\t.trans-row\r\n\t\tmargin: 2rem 0px\r\n</style>\r\n","import { render } from \"./CreateTransc.vue?vue&type=template&id=4063c3ba\"\nimport script from \"./CreateTransc.vue?vue&type=script&lang=js\"\nexport * from \"./CreateTransc.vue?vue&type=script&lang=js\"\n\nimport \"./CreateTransc.vue?vue&type=style&index=0&id=4063c3ba&lang=sass\"\nscript.render = render\n\nexport default script","<script>\r\nimport { ref, reactive, watch, computed, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { ElMessage, ElNotification } from \"element-plus\";\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst router = useRouter();\r\n\r\n\t\t// set form data(note that directly use data from vuex to render\r\n\t\t// would cause maxium recursive update exceeds)\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst formData = reactive({\r\n\t\t\texpenseType: user.value.expenseType,\r\n\t\t\tincomeType: user.value.incomeType,\r\n\t\t});\r\n\t\tconst text = { expenseType: \"支出類別\", incomeType: \"收入類別\" };\r\n\t\tconst isEditable = reactive({\r\n\t\t\texpense: false,\r\n\t\t\tincome: false,\r\n\t\t});\r\n\r\n\t\t// define template refs\r\n\t\tconst formRef = ref([]);\r\n\t\tconst setFormRef = (el) => {\r\n\t\t\tif (el) formRef.value.push(el);\r\n\t\t};\r\n\r\n\t\t// click function\r\n\t\tconst removeItem = (item, key) => {\r\n\t\t\tconst index = formData[key].indexOf(item);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tformData[key].splice(index, 1);\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst addItem = (key) => {\r\n\t\t\tformData[key].push(\"新類別\");\r\n\t\t};\r\n\r\n\t\t// form validation function\r\n\t\tconst valid = ref(true);\r\n\t\tconst validateTypeName = (rule, value, callback) => {\r\n\t\t\tif (value === \"\") {\r\n\t\t\t\tcallback(new Error(\"請輸入分類名稱\"));\r\n\t\t\t} else if (value.length < 2 || value.length > 10) {\r\n\t\t\t\tcallback(new Error(\"名稱需介於2至10字元之間\"));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst rules = [\r\n\t\t\t{\r\n\t\t\t\tvalidator: validateTypeName,\r\n\t\t\t\ttrigger: \"blur\",\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tconst handleEdit = (key) => {\r\n\t\t\tisEditable[key] = true;\r\n\t\t};\r\n\t\t// save function\r\n\t\tconst handleCreateConsumeType = async (ref, key) => {\r\n\t\t\t// data verify\r\n\t\t\tref.validate((pass) => {\r\n\t\t\t\tvalid.value = pass;\r\n\t\t\t});\r\n\t\t\tif (!valid.value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst token = computed(() => {\r\n\t\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t\t});\r\n\t\t\ttry {\r\n\t\t\t\tconst createConsumeType = await store.dispatch(\r\n\t\t\t\t\t\"User/handleUpdateUser\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: formData,\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!createConsumeType.success) throw createConsumeType;\r\n\r\n\t\t\t\tElMessage.success({\r\n\t\t\t\t\tmessage: \"儲存成功！\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t\tisEditable[key] = false;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tformData,\r\n\t\t\ttext,\r\n\t\t\tisEditable,\r\n\t\t\tformRef,\r\n\t\t\tsetFormRef,\r\n\t\t\tremoveItem,\r\n\t\t\taddItem,\r\n\t\t\trules,\r\n\t\t\thandleEdit,\r\n\t\t\thandleCreateConsumeType,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-row class=\"type-row\">\r\n\t\t<el-col\r\n\t\t\t:span=\"24\"\r\n\t\t\t:sm=\"{ span: 12 }\"\r\n\t\t\tv-for=\"(type, key, index) in formData\"\r\n\t\t\tclass=\"form-col\"\r\n\t\t>\r\n\t\t\t<span>{{ text[key] }}</span>\r\n\t\t\t<el-button\r\n\t\t\t\ticon=\"el-icon-edit\"\r\n\t\t\t\tclass=\"edit-button\"\r\n\t\t\t\tcircle\r\n\t\t\t\tsize=\"mini\"\r\n\t\t\t\tv-if=\"!isEditable[key]\"\r\n\t\t\t\t@click=\"handleEdit(key)\"\r\n\t\t\t></el-button>\r\n\t\t\t<el-button\r\n\t\t\t\tplain\r\n\t\t\t\tcircle\r\n\t\t\t\ticon=\"el-icon-check\"\r\n\t\t\t\tclass=\"edit-button\"\r\n\t\t\t\ttype=\"success\"\r\n\t\t\t\tsize=\"mini\"\r\n\t\t\t\tv-if=\"isEditable[key]\"\r\n\t\t\t\t@click=\"handleCreateConsumeType(formRef[index], key)\"\r\n\t\t\t>\r\n\t\t\t</el-button>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-form :model=\"formData[key]\" :ref=\"setFormRef\" inline-message>\r\n\t\t\t\t<el-form-item\r\n\t\t\t\t\tv-for=\"(item, idx) in formData[key]\"\r\n\t\t\t\t\t:key=\"idx\"\r\n\t\t\t\t\t:prop=\"`[${idx}]`\"\r\n\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-input v-model=\"formData[key][idx]\" />\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tplain\r\n\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t@click=\"removeItem(item, key)\"\r\n\t\t\t\t\t\tclass=\"delete-button\"\r\n\t\t\t\t\t\t:disabled=\"!isEditable[key]\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t删除\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-button\r\n\t\t\t\t\tclass=\"add-button\"\r\n\t\t\t\t\tplain\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t@click=\"addItem(key)\"\r\n\t\t\t\t\t:disabled=\"!isEditable[key]\"\r\n\t\t\t\t>\r\n\t\t\t\t\t新增類別\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-form>\r\n\t\t</el-col>\r\n\t</el-row>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n.type-row\r\n\tmargin: 3rem 0\r\n\tmargin-bottom: 2rem\r\n\tpadding: 0 5rem\r\n\t.el-col\r\n\t\tpadding: 1rem\r\n\t\t&.form-col\r\n\t\t\tmargin-bottom: 5rem\r\n\t\tspan\r\n\t\t\tfont-size: 14px\r\n\t\t\tfont-weight: 700\r\n\t\t\ttext-align: center\r\n\t\t\tvertical-align: middle\r\n\t\t.edit-button\r\n\t\t\tfloat: right\r\n\t\t\tmargin-right: 10px\r\n\t\t\tvertical-align: middle\r\n\t\tform\r\n\t\t\tmargin-top: 20px\r\n\t\t\t.el-input\r\n\t\t\t\twidth: 50%\r\n\t\t\t\tmargin-right: 30px\r\n\t\t\t.add-button\r\n\t\t\t\tmargin-top: 1rem\r\n@media screen and (max-width: 768px)\r\n\t.type-row\r\n\t\tmargin: 2rem 0\r\n\t\tpadding: 0 0.5rem\r\n\t\t.el-col\r\n\t\t\tpadding: 0rem\r\n\t\t\tform\r\n\t\t\t\t.el-input\r\n\t\t\t\t\twidth: 60%\r\n\t\t\t\t\ttext-align: center\r\n@media screen and (max-width: 500px)\r\n\t.type-row\r\n\t\t.el-col\r\n\t\t\tform\r\n\t\t\t\t.el-input\r\n\t\t\t\t\t.el-input__inner\r\n\t\t\t\t\t\ttext-align: center\r\n</style>\r\n","import { render } from \"./CreateConsumeType.vue?vue&type=template&id=264e83f4\"\nimport script from \"./CreateConsumeType.vue?vue&type=script&lang=js\"\nexport * from \"./CreateConsumeType.vue?vue&type=script&lang=js\"\n\nimport \"./CreateConsumeType.vue?vue&type=style&index=0&id=264e83f4&lang=sass\"\nscript.render = render\n\nexport default script","<script>\r\nimport { ref, reactive, watch, computed, onMounted } from \"vue\";\r\nimport { useRoute, useRouter, onBeforeRouteUpdate } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { ElMessageBox, ElMessage, ElLoading } from \"element-plus\";\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst route = useRoute();\r\n\t\tconst router = useRouter();\r\n\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst wallet = computed(() => {\r\n\t\t\treturn store.getters[\"Wallet/getWallet\"];\r\n\t\t});\r\n\t\tconst id = computed(() => {\r\n\t\t\treturn route.params.id;\r\n\t\t});\r\n\t\tstore.dispatch(\"Wallet/handleGetWallet\", {\r\n\t\t\ttoken: token.value,\r\n\t\t\t_id: id.value,\r\n\t\t});\r\n\r\n\t\tconst userSelectTime = ref(new Date());\r\n\t\tconst month = computed(() => {\r\n\t\t\treturn userSelectTime.value.getMonth() + 1;\r\n\t\t});\r\n\t\tconst year = computed(() => {\r\n\t\t\treturn userSelectTime.value.getFullYear();\r\n\t\t});\r\n\r\n\t\t// caculate statistics of this wallet\r\n\t\tconst totalAmounts = computed(() => {\r\n\t\t\tlet ta = wallet.value.initialTotal;\r\n\t\t\tif (wallet.value && wallet.value.transaction) {\r\n\t\t\t\twallet.value.transaction.forEach((item) => {\r\n\t\t\t\t\tif (item.transType === \"income\") {\r\n\t\t\t\t\t\tta += item.amount;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tta -= item.amount;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn ta;\r\n\t\t});\r\n\t\tconst stat = computed(() => {\r\n\t\t\tlet expense = 0;\r\n\t\t\tlet income = 0;\r\n\t\t\tif (wallet.value && wallet.value.transaction) {\r\n\t\t\t\twallet.value.transaction.forEach((item) => {\r\n\t\t\t\t\tconst nowTime = new Date(item.date);\r\n\t\t\t\t\tconst nowYear = nowTime.getFullYear();\r\n\t\t\t\t\tconst nowMonth = nowTime.getMonth() + 1;\r\n\t\t\t\t\tif (nowYear === year.value && nowMonth === month.value) {\r\n\t\t\t\t\t\tif (item.transType === \"income\") {\r\n\t\t\t\t\t\t\tincome += item.amount;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\texpense += item.amount;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn { expense, income };\r\n\t\t});\r\n\r\n\t\t// add comma to numbers\r\n\t\tconst NtM = (num) => {\r\n\t\t\tconst isNegative = num < 0;\r\n\t\t\tconst str = (Math.abs(num) + \"\").split(\"\");\r\n\t\t\tconst l = str.length;\r\n\t\t\tlet idx = 1;\r\n\t\t\tfor (let i = l; i > 0; i--) {\r\n\t\t\t\tif (idx % 3 === 0 && i !== 1) {\r\n\t\t\t\t\tstr[i - 1] = `,${str[i - 1]}`;\r\n\t\t\t\t}\r\n\t\t\t\tidx++;\r\n\t\t\t}\r\n\t\t\treturn isNegative ? `-${str.join(\"\")}` : str.join(\"\");\r\n\t\t};\r\n\r\n\t\t// find all transactions of a certain date\r\n\t\tconst transOfCertainDay = (day) => {\r\n\t\t\tlet subTrans = [];\r\n\t\t\tlet dayTotal = 0;\r\n\t\t\tif (wallet.value && wallet.value.transaction) {\r\n\t\t\t\twallet.value.transaction.forEach((item) => {\r\n\t\t\t\t\tconst { date, ...data } = item;\r\n\t\t\t\t\tconst nowTime = new Date(date);\r\n\t\t\t\t\tconst nowDate = nowTime.getDate();\r\n\t\t\t\t\tconst nowMonth = nowTime.getMonth() + 1;\r\n\t\t\t\t\tconst nowYear = nowTime.getFullYear();\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tnowYear === year.value &&\r\n\t\t\t\t\t\tnowMonth === month.value &&\r\n\t\t\t\t\t\tnowDate === day\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tif (data.transType == \"income\") {\r\n\t\t\t\t\t\t\tdayTotal += data.amount;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdayTotal -= data.amount;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata.amount = NtM(data.amount);\r\n\t\t\t\t\t\tsubTrans.push({\r\n\t\t\t\t\t\t\tdate: new Date(date).getDate(),\r\n\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn { subTrans, dayTotal: NtM(dayTotal) };\r\n\t\t};\r\n\t\t// set style of amount\r\n\t\tconst setStyle = ({ row, column, rowIndex, columnIndex }) => {\r\n\t\t\tif (columnIndex === 3) {\r\n\t\t\t\tif (row.transType === \"expense\") {\r\n\t\t\t\t\treturn { color: \"#e71d36\" };\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn { color: \"#42b983\" };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// set dialogue for editting wallet name and total amount\r\n\t\tconst dialogueVisible = ref(false);\r\n\t\tconst walletNameVisible = ref(false);\r\n\t\tconst amountVisible = ref(false);\r\n\t\tconst walletName = ref(\"\");\r\n\t\tconst amount = ref(0);\r\n\t\tconst valid = ref(true);\r\n\t\tconst setRef = (el) => {\r\n\t\t\tif (walletNameVisible && el) {\r\n\t\t\t\tel.focus();\r\n\t\t\t}\r\n\t\t\tif (amountVisible && el) {\r\n\t\t\t\tel.focus();\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst closeDialogue = async (bool) => {\r\n\t\t\tif (!bool) {\r\n\t\t\t\twalletNameVisible.value = false;\r\n\t\t\t\tamountVisible.value = false;\r\n\t\t\t\tdialogueVisible.value = false;\r\n\t\t\t} else {\r\n\t\t\t\tlet data;\r\n\t\t\t\tif (walletNameVisible.value) {\r\n\t\t\t\t\tdata = editWalletName();\r\n\t\t\t\t}\r\n\t\t\t\tif (amountVisible.value) {\r\n\t\t\t\t\tdata = editTotal();\r\n\t\t\t\t}\r\n\t\t\t\tif (!valid.value) return false;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst updateWallet = await store.dispatch(\r\n\t\t\t\t\t\t\"Wallet/handleUpdateWallet\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t\t\t_id: id.value,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (!updateWallet.success) throw updateWallet;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error.nsg || error);\r\n\t\t\t\t}\r\n\t\t\t\twalletName.value = \"\";\r\n\t\t\t\tamount.value = 0;\r\n\t\t\t\twalletNameVisible.value = false;\r\n\t\t\t\tamountVisible.value = false;\r\n\t\t\t\tdialogueVisible.value = false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// dropdown menu functions of wallet\r\n\t\tconst handleAddTransaction = () => {\r\n\t\t\trouter.push({\r\n\t\t\t\tpath: \"/create/transc\",\r\n\t\t\t\tquery: { id: wallet.value._id },\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst handleWalletNameEdit = () => {\r\n\t\t\twalletNameVisible.value = true;\r\n\t\t\tdialogueVisible.value = true;\r\n\t\t};\r\n\t\tconst editWalletName = () => {\r\n\t\t\tvalid.value = true;\r\n\t\t\tif (walletName.value === \"\") {\r\n\t\t\t\tvalid.value = false;\r\n\t\t\t\tElMessage.error({\r\n\t\t\t\t\tmessage: \"請輸入帳戶名稱\",\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t} else if (\r\n\t\t\t\twalletName.value.length < 2 ||\r\n\t\t\t\twalletName.value.length > 30\r\n\t\t\t) {\r\n\t\t\t\tvalid.value = false;\r\n\t\t\t\tElMessage.error({\r\n\t\t\t\t\tmessage: \"名稱長度需介於2至30字元之間\",\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn { walletName: walletName.value };\r\n\t\t};\r\n\r\n\t\tconst handleTotalEdit = () => {\r\n\t\t\tamountVisible.value = true;\r\n\t\t\tdialogueVisible.value = true;\r\n\t\t};\r\n\t\tconst editTotal = () => {\r\n\t\t\tvalid.value = true;\r\n\t\t\tif (amount.value === \"\") {\r\n\t\t\t\tvalid.value = false;\r\n\t\t\t\tElMessage.error({\r\n\t\t\t\t\tmessage: \"請輸入調整後的餘額\",\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t} else if (typeof amount.value !== \"number\") {\r\n\t\t\t\tvalid.value = false;\r\n\t\t\t\tElMessage.error({\r\n\t\t\t\t\tmessage: \"請輸入數字\",\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t} else if (amount.value === totalAmounts.value) {\r\n\t\t\t\tvalid.value = false;\r\n\t\t\t\tElMessage.error({\r\n\t\t\t\t\tmessage: \"請變更餘額\",\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst data = {\r\n\t\t\t\tdate: new Date(),\r\n\t\t\t\ttransType:\r\n\t\t\t\t\tamount.value > totalAmounts.value ? \"income\" : \"expense\",\r\n\t\t\t\tconsumeType: \"其他\",\r\n\t\t\t\tamount: Math.abs(amount.value - totalAmounts.value),\r\n\t\t\t\tnote: \"調整餘額\",\r\n\t\t\t};\r\n\t\t\treturn { transaction: [...wallet.value.transaction, data] };\r\n\t\t};\r\n\r\n\t\tconst handleSetMainWallet = async () => {\r\n\t\t\tif (user.value.mainWallet === id.value) {\r\n\t\t\t\tElMessage.warning({\r\n\t\t\t\t\tmessage: \"此帳戶已是主帳戶\",\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait ElMessageBox.confirm(\r\n\t\t\t\t\t\"確定將此帳戶設為主帳戶嗎？\",\r\n\t\t\t\t\t\"提示\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconfirmButtonText: \"確定\",\r\n\t\t\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tconst updateUser = await store.dispatch(\r\n\t\t\t\t\t\"User/handleUpdateUser\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: { mainWallet: id.value },\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!updateUser.success) throw updateUser;\r\n\t\t\t\tElMessage.success({\r\n\t\t\t\t\tmessage: `已成功將「${wallet.value.walletName}」設為主帳戶`,\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst handleWalletDelete = async () => {\r\n\t\t\tif (user.value.mainWallet === id.value) {\r\n\t\t\t\tElMessage.error({\r\n\t\t\t\t\tmessage: \"主帳戶不可刪除。請先變更主帳戶\",\r\n\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait ElMessageBox.confirm(\r\n\t\t\t\t\t\"此操作將永久刪除該帳戶與其記錄，是否繼續？\",\r\n\t\t\t\t\t\"提示\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconfirmButtonText: \"確定\",\r\n\t\t\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tconst loading = ElLoading.service({\r\n\t\t\t\t\tlock: true,\r\n\t\t\t\t\ttext: \"Loading\",\r\n\t\t\t\t\tspinner: \"el-icon-loading\",\r\n\t\t\t\t\tbackground: \"rgba(0, 0, 0, 0.7)\",\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst deleteWallet = await store.dispatch(\r\n\t\t\t\t\t\"Wallet/handleDeleteWallet\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t\t_id: id.value,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!deleteWallet.success) {\r\n\t\t\t\t\tloading.close();\r\n\t\t\t\t\tthrow deleteWallet;\r\n\t\t\t\t}\r\n\t\t\t\tloading.close();\r\n\t\t\t\trouter.push(\"/wallet\");\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// dropdown menu functions of transaction\r\n\t\tconst handleTransEdit = (index, row) => {\r\n\t\t\tconst data = wallet.value.transaction.find((item) => {\r\n\t\t\t\treturn item._id === row._id;\r\n\t\t\t});\r\n\t\t\trouter.push({\r\n\t\t\t\tpath: \"/edit/transc\",\r\n\t\t\t\tquery: { id: wallet.value._id, ...data },\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst handleTransDelete = async (index, row) => {\r\n\t\t\ttry {\r\n\t\t\t\tawait ElMessageBox.confirm(\r\n\t\t\t\t\t\"此操作將永久刪除該記錄，是否繼續？\",\r\n\t\t\t\t\t\"提示\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconfirmButtonText: \"確定\",\r\n\t\t\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\t\tcustomClass: \"maxWidth-90\",\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tconst loading = ElLoading.service({\r\n\t\t\t\t\tlock: true,\r\n\t\t\t\t\ttext: \"Loading\",\r\n\t\t\t\t\tspinner: \"el-icon-loading\",\r\n\t\t\t\t\tbackground: \"rgba(0, 0, 0, 0.7)\",\r\n\t\t\t\t});\r\n\t\t\t\tconst transcRecord = computed(() => {\r\n\t\t\t\t\tlet idx;\r\n\t\t\t\t\tlet transc = wallet.value.transaction;\r\n\t\t\t\t\ttransc.forEach((item, index) => {\r\n\t\t\t\t\t\tif (item._id === row._id) {\r\n\t\t\t\t\t\t\tidx = index;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttransc.splice(idx, 1);\r\n\t\t\t\t\treturn transc;\r\n\t\t\t\t});\r\n\t\t\t\tconst deleteTransc = await store.dispatch(\r\n\t\t\t\t\t\"Wallet/handleUpdateWallet\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\ttransaction: transcRecord.value,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t\t_id: id.value,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!deleteTransc.success) {\r\n\t\t\t\t\tloading.close();\r\n\t\t\t\t\tthrow deleteTransc;\r\n\t\t\t\t}\r\n\t\t\t\tloading.close();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// when router-view changes\r\n\t\tonBeforeRouteUpdate((to, from) => {\r\n\t\t\tstore.dispatch(\"Wallet/handleGetWallet\", {\r\n\t\t\t\ttoken: token.value,\r\n\t\t\t\t_id: to.params.id,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tid,\r\n\t\t\twallet,\r\n\t\t\ttotalAmounts,\r\n\t\t\tstat,\r\n\t\t\tuserSelectTime,\r\n\t\t\tmonth,\r\n\t\t\tyear,\r\n\t\t\tNtM,\r\n\t\t\ttransOfCertainDay,\r\n\t\t\tsetStyle,\r\n\t\t\thandleAddTransaction,\r\n\t\t\thandleWalletNameEdit,\r\n\t\t\thandleTotalEdit,\r\n\t\t\thandleSetMainWallet,\r\n\t\t\thandleWalletDelete,\r\n\t\t\thandleTransEdit,\r\n\t\t\thandleTransDelete,\r\n\t\t\tdialogueVisible,\r\n\t\t\twalletNameVisible,\r\n\t\t\tamountVisible,\r\n\t\t\twalletName,\r\n\t\t\tamount,\r\n\t\t\tsetRef,\r\n\t\t\tcloseDialogue,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-row>\r\n\t\t<el-col :span=\"22\" :sm=\"{ span: 16, offset: 4 }\" :offset=\"1\">\r\n\t\t\t<el-card class=\"sub-wallet-card title\" :key=\"wallet\">\r\n\t\t\t\t<template #header>\r\n\t\t\t\t\t<div class=\"card-header\">\r\n\t\t\t\t\t\t<span>{{ wallet.walletName }}</span>\r\n\t\t\t\t\t\t<span>$ {{ NtM(totalAmounts) }}</span>\r\n\t\t\t\t\t\t<el-dropdown\r\n\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\tstyle=\"position: absolute; right: 0; top: 0\"\r\n\t\t\t\t\t\t\tplacement=\"bottom-start\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tplain\r\n\t\t\t\t\t\t\t\tcircle\r\n\t\t\t\t\t\t\t\ticon=\"el-icon-more\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<template #dropdown>\r\n\t\t\t\t\t\t\t\t<el-dropdown-menu>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item\r\n\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-edit\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleAddTransaction\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t新增記錄\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item\r\n\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-edit-outline\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleWalletNameEdit\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t修改名稱\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item\r\n\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-set-up\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleTotalEdit\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t調整餘額\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item\r\n\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-star-off\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleSetMainWallet\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t設為主帳戶\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item\r\n\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-delete\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleWalletDelete\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t刪除帳戶\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<div class=\"time-col\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\tv-model=\"userSelectTime\"\r\n\t\t\t\t\t\ttype=\"month\"\r\n\t\t\t\t\t\tplaceholder=\"請選擇時間區間\"\r\n\t\t\t\t\t\t:clearable=\"false\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"text item\">\r\n\t\t\t\t\t收入\r\n\t\t\t\t\t<span class=\"green\">$ {{ NtM(stat.income) }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"text item\">\r\n\t\t\t\t\t支出\r\n\t\t\t\t\t<span class=\"red\">$ {{ NtM(stat.expense) }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row v-if=\"!stat.income && !stat.expense\">\r\n\t\t<el-col style=\"padding: 40px 30px;\">\r\n\t\t\t<span>本月尚無交易紀錄</span>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row v-for=\"n in 31\" :key=\"n\" class=\"data-table\">\r\n\t\t<el-col\r\n\t\t\t:span=\"22\"\r\n\t\t\t:sm=\"{ span: 16, offset: 4 }\"\r\n\t\t\t:offset=\"1\"\r\n\t\t\tv-if=\"transOfCertainDay(32 - n).subTrans.length\"\r\n\t\t>\r\n\t\t\t<el-table\r\n\t\t\t\t:data=\"transOfCertainDay(32 - n).subTrans\"\r\n\t\t\t\t:show-header=\"true\"\r\n\t\t\t\t:cell-style=\"setStyle\"\r\n\t\t\t\theader-row-class-name=\"fz-16-black\"\r\n\t\t\t>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t\t:label=\"32 - n + ''\"\r\n\t\t\t\t\tmin-width=\"42\"\r\n\t\t\t\t\talign=\"center\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #default=\"scope\">\r\n\t\t\t\t\t\t<el-dropdown trigger=\"click\" placement=\"bottom-end\">\r\n\t\t\t\t\t\t\t<el-button type=\"text\" icon=\"el-icon-setting\" />\r\n\t\t\t\t\t\t\t<template #dropdown>\r\n\t\t\t\t\t\t\t\t<el-dropdown-menu>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item\r\n\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-edit\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\thandleTransEdit(\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope.$index,\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope.row\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t編輯\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-item\r\n\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-delete\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\thandleTransDelete(\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope.$index,\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope.row\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t刪除\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"consumeType\"\r\n\t\t\t\t\tlabel=\"\"\r\n\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\tmin-width=\"70\"\r\n\t\t\t\t>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"note\"\r\n\t\t\t\t\tlabel=\"\"\r\n\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\tmin-width=\"70\"\r\n\t\t\t\t></el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"amount\"\r\n\t\t\t\t\t:label=\"transOfCertainDay(32 - n).dayTotal + ''\"\r\n\t\t\t\t\talign=\"right\"\r\n\t\t\t\t\tclass-name=\"pr-45\"\r\n\t\t\t\t></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-dialog\r\n\t\t:title=\"walletNameVisible ? '新帳戶名稱' : '調整餘額'\"\r\n\t\tv-model=\"dialogueVisible\"\r\n\t\twidth=\"30%\"\r\n\t\tdestroy-on-close\r\n\t\tcenter\r\n\t\t@closed=\"closeDialogue(false)\"\r\n\t>\r\n\t\t<span v-if=\"walletNameVisible\">新帳戶名稱</span>\r\n\t\t<span v-if=\"amountVisible\">餘額</span>\r\n\t\t<el-input\r\n\t\t\tv-model=\"walletName\"\r\n\t\t\t:ref=\"setRef\"\r\n\t\t\tv-if=\"walletNameVisible\"\r\n\t\t></el-input>\r\n\t\t<el-input\r\n\t\t\tv-model.number.native=\"amount\"\r\n\t\t\t:ref=\"setRef\"\r\n\t\t\tv-if=\"amountVisible\"\r\n\t\t></el-input>\r\n\t\t<template #footer>\r\n\t\t\t<span class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"closeDialogue(false)\">取消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"closeDialogue(true)\">\r\n\t\t\t\t\t確定\r\n\t\t\t\t</el-button>\r\n\t\t\t</span>\r\n\t\t</template>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n.sub-wallet-card\r\n\tmargin-bottom: 1rem\r\n\tpadding: 10px 25px\r\n\tposition: relative\r\n\tborder-radius: 10px\r\n\t.card-header\r\n\t\tfont-weight: 700\r\n\t\tposition: relative\r\n\t\tspan\r\n\t\t\tdisplay: block\r\n\t\t\tmargin-bottom: 10px\r\n\t\t\tletter-spacing: 1.44px\r\n\t.text\r\n\t\ttext-align: left\r\n\t\tmargin-bottom: 15px\r\n\t\tspan\r\n\t\t\tfloat: right\r\n\t\t\tletter-spacing: 1.32px\r\n\t.time-col\r\n\t\ttext-align: center\r\n\t\tpadding: 1rem 0px\r\n\t\tmargin-bottom: 25px\r\n\t\t.el-date-editor.el-input\r\n\t\t\twidth: 50%\r\n\t\t\tmin-width: 150px\r\n\t\t\t.el-input__inner\r\n\t\t\t\ttext-align: center\r\n\t&.title\r\n\t\tmargin-bottom: 50px\r\n.data-table\r\n\t.el-col\r\n\t\tmargin-bottom: 40px\r\n\t\t.el-table--scrollable-x\r\n\t\t\t.el-table__body-wrapper\r\n\t\t\t\toverflow-x: hidden\r\n.el-button\r\n\tfont-size: 16px\r\n\tborder: none\r\n.green\r\n\tcolor: #42b983\r\n\tdisplay: inline-block\r\n.red\r\n\tcolor: #e71d36\r\n\tdisplay: inline-block\r\n.fz-16-black\r\n\tcolor: #000\r\n\tfont-size: 16px\r\ntd.pr-45, th.pr-45\r\n\tpadding-right: 40px\r\n@media screen and (max-width: 500px)\r\n\t.sub-wallet-card\r\n\t\t.el-card__header\r\n\t\t\tpadding: 18px 0px\r\n\t.fz-16-black\r\n\t\tfont-size: 15px\r\n\ttd.pr-45, th.pr-45\r\n\t\tpadding-right: 10px\r\n</style>\r\n","import { render } from \"./SubWallet.vue?vue&type=template&id=74acff2a\"\nimport script from \"./SubWallet.vue?vue&type=script&lang=js\"\nexport * from \"./SubWallet.vue?vue&type=script&lang=js\"\n\nimport \"./SubWallet.vue?vue&type=style&index=0&id=74acff2a&lang=sass\"\nscript.render = render\n\nexport default script","<script>\r\nimport { computed } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n\tasync setup() {\r\n\t\tconst store = useStore();\r\n\t\tconst router = useRouter();\r\n\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\t\tconst wallets = computed(() => {\r\n\t\t\treturn store.getters[\"Wallet/getWallets\"];\r\n\t\t});\r\n\t\tawait store.dispatch(\"Wallet/handleGetWallets\", token.value);\r\n\r\n\t\t// caculate statistics of user wallets\r\n\t\tconst walletStat = computed(() => {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet expense = 0;\r\n\t\t\tlet income = 0;\r\n\t\t\tif (wallets.value) {\r\n\t\t\t\twallets.value.forEach((wallet) => {\r\n\t\t\t\t\ttotal += wallet.totalAmounts;\r\n\t\t\t\t\texpense += wallet.expense;\r\n\t\t\t\t\tincome += wallet.income;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn { total, expense, income };\r\n\t\t});\r\n\r\n\t\t// add comma to numbers\r\n\t\tconst NtM = (num) => {\r\n\t\t\tconst isNegative = num < 0;\r\n\t\t\tconst str = (Math.abs(num) + \"\").split(\"\");\r\n\t\t\tconst l = str.length;\r\n\t\t\tlet idx = 1;\r\n\t\t\tfor (let i = l; i > 0; i--) {\r\n\t\t\t\tif (idx % 3 === 0 && i !== 1) {\r\n\t\t\t\t\tstr[i - 1] = `,${str[i - 1]}`;\r\n\t\t\t\t}\r\n\t\t\t\tidx++;\r\n\t\t\t}\r\n\t\t\treturn isNegative ? `-${str.join(\"\")}` : str.join(\"\");\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\twallets,\r\n\t\t\twalletStat,\r\n\t\t\tNtM,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-row class=\"wallet-header\" align=\"middle\">\r\n\t\t<el-col :span=\"24\">\r\n\t\t\t<el-card shadow=\"never\" class=\"box-card\">\r\n\t\t\t\t<div class=\"card-header\">\r\n\t\t\t\t\t總資產\r\n\t\t\t\t\t<span class=\"text\">$ {{ NtM(walletStat.total) }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"card-text\">\r\n\t\t\t\t\t本月總收入\r\n\t\t\t\t\t<span class=\"text\">$ {{ NtM(walletStat.income) }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"card-text\">\r\n\t\t\t\t\t本月總支出\r\n\t\t\t\t\t<span class=\"text\">$ {{ NtM(walletStat.expense) }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t</el-col>\r\n\t</el-row>\r\n\t<el-row>\r\n\t\t<el-col\r\n\t\t\t:span=\"12\"\r\n\t\t\t:xs=\"24\"\r\n\t\t\tv-for=\"wallet in wallets\"\r\n\t\t\tclass=\"display-col\"\r\n\t\t>\r\n\t\t\t<el-card class=\"box-card\">\r\n\t\t\t\t<div class=\"card-header\">\r\n\t\t\t\t\t{{ wallet.walletName }}\r\n\t\t\t\t\t<span class=\"text\">$ {{ NtM(wallet.totalAmounts) }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t<div class=\"card-text\">\r\n\t\t\t\t\t過去1個月<span class=\"text\"\r\n\t\t\t\t\t\t>$ {{ NtM(wallet.monthTotal) }}</span\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"card-text\">收入</div>\r\n\t\t\t\t<el-progress\r\n\t\t\t\t\t:text-inside=\"false\"\r\n\t\t\t\t\t:stroke-width=\"14\"\r\n\t\t\t\t\t:percentage=\"(wallet.income / wallet.total) * 100 || 0\"\r\n\t\t\t\t\tstatus=\"success\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span class=\"text\">$ {{ NtM(wallet.income) }}</span>\r\n\t\t\t\t</el-progress>\r\n\r\n\t\t\t\t<div class=\"card-text\">支出</div>\r\n\t\t\t\t<el-progress\r\n\t\t\t\t\t:text-inside=\"false\"\r\n\t\t\t\t\t:stroke-width=\"14\"\r\n\t\t\t\t\t:percentage=\"(wallet.expense / wallet.total) * 100 || 0\"\r\n\t\t\t\t\tstatus=\"exception\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span class=\"text\">$ {{ NtM(wallet.expense) }}</span>\r\n\t\t\t\t</el-progress>\r\n\t\t\t\t<router-link\r\n\t\t\t\t\tclass=\"el-link el-link--primary\"\r\n\t\t\t\t\t:to=\"`/wallet/${wallet._id}`\"\r\n\t\t\t\t>\r\n\t\t\t\t\t查看詳細 >>\r\n\t\t\t\t</router-link>\r\n\t\t\t</el-card>\r\n\t\t</el-col>\r\n\t</el-row>\r\n</template>\r\n\r\n<style lang=\"sass\" scoped>\r\n.wallet-header\r\n\tjustify-content: space-between\r\n\t.box-card\r\n\t\ttext-align: left\r\n\t\tborder: none\r\n\t\tpadding: 20px 30px\r\n\t\tletter-spacing: 1.2px\r\n\t\t.card-header\r\n\t\t\tfont-size: 28px\r\n\t\t\tfont-weight: 900\r\n\t\t\tmargin-bottom: 1rem\r\n\t\t.card-text\r\n\t\t\tcolor: #a3a3a3\r\n\t\t\tmargin-left: 0.25rem\r\n\t\t\tmargin-bottom: 0.5rem\r\n\t\t\tletter-spacing: 1.46px\r\n\t\t\t.text\r\n\t\t\t\tmargin-right: 5px\r\n\t\t.text\r\n\t\t\tfloat: right\r\n\r\n.display-col\r\n\tpadding: 35px\r\n\tpadding-top: 0px\r\n\tmargin-bottom: 2rem\r\n\t.box-card\r\n\t\tborder-radius: 20px\r\n\t\tpadding: 35px 35px\r\n\t\ttext-align-last: left\r\n\t\t.card-header\r\n\t\t\tfont-weight: bold\r\n\t\t\t.text\r\n\t\t\t\tfloat: right\r\n\t\t\t\tcolor: #a3a3a3\r\n\t\t.card-text\r\n\t\t\tmargin-top: 1rem\r\n\t\t\t.text\r\n\t\t\t\tfloat: right\r\n\t\t.card-text:nth-child(3)\r\n\t\t\tcolor: #a3a3a3\r\n\t\t\tmargin-bottom: 2rem\r\n\t\t.el-progress\r\n\t\t\tmargin: 5px 0px\r\n\t\t\t.text\r\n\t\t\t\tfont-size: 16px\r\n\t\t\t\tfloat: right\r\n\t\t.el-link\r\n\t\t\tmargin-top: 3rem\r\n\t\t\tmargin-right: -5px\r\n\t\t\tfloat: right\r\n\r\n@media screen and (max-width: 500px)\r\n\t.wallet-header\r\n\t\t.box-card\r\n\t\t\tpadding: 20px 0px\r\n\t.display-col\r\n\t\tpadding: 35px 20px\r\n\t\t.box-card\r\n\t\t\tpadding: 35px 10px\r\n@media screen and (max-width: 400px)\r\n\t.wallet-header\r\n\t\t.box-card\r\n\t\t\tpadding-bottom: 0px\r\n\t\t\t.card-header\r\n\t\t\t\tmargin-bottom: 1.5rem\r\n\t\t\t\ttext-align: center\r\n\t\t\t.text\r\n\t\t\t\tfloat: none\r\n\t\t\t\tdisplay: block\r\n\t\t\t\tmargin-top: 20px\r\n\t\t\t.card-text\r\n\t\t\t\tmargin-top: 30px\r\n\t\t\t\ttext-align: center\r\n\t.display-col\r\n\t\tpadding: 10px 0px\r\n\t\t.box-card\r\n\t\t\tpadding: 10px 0px\r\n\t\t\tpadding-bottom: 20px\r\n</style>\r\n","import { render } from \"./WalletIndex.vue?vue&type=template&id=6e49c47a&scoped=true\"\nimport script from \"./WalletIndex.vue?vue&type=script&lang=js\"\nexport * from \"./WalletIndex.vue?vue&type=script&lang=js\"\n\nimport \"./WalletIndex.vue?vue&type=style&index=0&id=6e49c47a&lang=sass&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6e49c47a\"\n\nexport default script","<script>\r\nimport { ref, reactive, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { ElMessage, ElNotification } from \"element-plus\";\r\nexport default {\r\n\tsetup() {\r\n\t\tconst store = useStore();\r\n\t\tconst router = useRouter();\r\n\t\tconst route = useRoute();\r\n\r\n\t\tconst token = computed(() => {\r\n\t\t\treturn store.getters[\"User/getToken\"];\r\n\t\t});\r\n\t\tconst user = computed(() => {\r\n\t\t\treturn store.getters[\"User/getUserData\"];\r\n\t\t});\r\n\t\tconst type = reactive({\r\n\t\t\texpense: user.value.expenseType,\r\n\t\t\tincome: user.value.incomeType,\r\n\t\t});\r\n\t\tconst userWallets = computed(() => {\r\n\t\t\treturn store.getters[\"Wallet/getWallets\"];\r\n\t\t});\r\n\t\tstore.dispatch(\"Wallet/handleGetWallets\", token.value);\r\n\r\n\t\t// set data\r\n\t\tconst formRef = ref(null);\r\n\t\tconst formData = reactive({\r\n\t\t\tid: route.query ? route.query.id : \"\",\r\n\t\t\tdate: route.query ? route.query.date : new Date(),\r\n\t\t\tamount: route.query ? route.query.amount : 0,\r\n\t\t\ttransType: route.query ? route.query.transType : \"expense\",\r\n\t\t\tconsumeType: route.query ? route.query.consumeType : \"\",\r\n\t\t\tnote: route.query ? route.query.note : \"\",\r\n\t\t});\r\n\r\n\t\t// form validation\r\n\t\tconst valid = ref(true);\r\n\t\tconst amountValidator = (rule, value, callback) => {\r\n\t\t\tif (value === 0) {\r\n\t\t\t\tcallback(new Error(\"金額不得為0\"));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst rules = {\r\n\t\t\tid: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請選擇記錄帳戶\",\r\n\t\t\t\t\ttrigger: \"change\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdate: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"date\",\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請選擇日期\",\r\n\t\t\t\t\ttrigger: \"change\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tamount: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請輸入金額\",\r\n\t\t\t\t\ttrigger: \"blur\",\r\n\t\t\t\t},\r\n\t\t\t\t{ validator: amountValidator, trigger: \"blur\" },\r\n\t\t\t],\r\n\t\t\ttransType: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: \"請選擇交易類型\",\r\n\t\t\t\t\ttrigger: \"change\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tconsumeType: [\r\n\t\t\t\t{ required: true, message: \"請選擇種類\", trigger: \"change\" },\r\n\t\t\t],\r\n\t\t\tnote: [{ max: 100, message: \"字數超過上限\", trigger: \"change\" }],\r\n\t\t};\r\n\r\n\t\tconst handleCancle = () => {\r\n\t\t\trouter.go(-1);\r\n\t\t};\r\n\r\n\t\tconst handleAddTransaction = async (ref) => {\r\n\t\t\tref.validate((pass) => {\r\n\t\t\t\tvalid.value = pass;\r\n\t\t\t});\r\n\t\t\tif (!valid.value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst { id, ...data } = formData;\r\n\t\t\tconst transcRecord = computed(() => {\r\n\t\t\t\tlet idx;\r\n\t\t\t\tconst wallet = userWallets.value.find(\r\n\t\t\t\t\t(item) => item._id === id\r\n\t\t\t\t);\r\n\t\t\t\twallet.transaction.forEach((item, index) => {\r\n\t\t\t\t\tif (item._id === route.query._id) {\r\n\t\t\t\t\t\tidx = index;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\twallet.transaction.splice(idx, 1);\r\n\t\t\t\treturn wallet.transaction;\r\n\t\t\t});\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst editTransc = await store.dispatch(\r\n\t\t\t\t\t\"Wallet/handleUpdateWallet\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\ttransaction: [...transcRecord.value, data],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttoken: token.value,\r\n\t\t\t\t\t\t_id: id,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif (!editTransc.success) throw editTransc;\r\n\t\t\t\trouter.go(-1);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error.msg || error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tuserWallets,\r\n\t\t\tformRef,\r\n\t\t\tformData,\r\n\t\t\ttype,\r\n\t\t\trules,\r\n\t\t\thandleCancle,\r\n\t\t\thandleAddTransaction,\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<template>\r\n\t<el-row class=\"trans-row\">\r\n\t\t<el-col :span=\"24\" :sm=\"{ span: 16, offset: 4 }\">\r\n\t\t\t<el-form\r\n\t\t\t\tref=\"formRef\"\r\n\t\t\t\t:model=\"formData\"\r\n\t\t\t\t:rules=\"rules\"\r\n\t\t\t\tlabel-position=\"left\"\r\n\t\t\t\tlabel-width=\"70px\"\r\n\t\t\t\tinline-message\r\n\t\t\t\thide-required-asterisk\r\n\t\t\t>\r\n\t\t\t\t<el-form-item label=\"帳戶\" prop=\"id\">\r\n\t\t\t\t\t<el-select v-model=\"formData.id\" placeholder=\"請選擇帳戶\">\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in userWallets\"\r\n\t\t\t\t\t\t\t:label=\"item.walletName\"\r\n\t\t\t\t\t\t\t:value=\"item._id\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"類型\" prop=\"transType\">\r\n\t\t\t\t\t<el-select\r\n\t\t\t\t\t\tv-model=\"formData.transType\"\r\n\t\t\t\t\t\tplaceholder=\"請選擇交易類型\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-option label=\"支出\" value=\"expense\" />\r\n\t\t\t\t\t\t<el-option label=\"收入\" value=\"income\" />\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"種類\" prop=\"consumeType\">\r\n\t\t\t\t\t<el-select\r\n\t\t\t\t\t\tv-model=\"formData.consumeType\"\r\n\t\t\t\t\t\tplaceholder=\"請選擇記錄種類\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in type[formData.transType]\"\r\n\t\t\t\t\t\t\t:key=\"item\"\r\n\t\t\t\t\t\t\t:label=\"item\"\r\n\t\t\t\t\t\t\t:value=\"item\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"時間\" prop=\"date\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tplaceholder=\"請選擇日期\"\r\n\t\t\t\t\t\tv-model=\"formData.date\"\r\n\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"金額\" prop=\"amount\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model.number.native=\"formData.amount\"\r\n\t\t\t\t\t\tplaceholder=\"請輸入金額\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"備註\" prop=\"note\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\tmaxlength=\"100\"\r\n\t\t\t\t\t\tshow-word-limit\r\n\t\t\t\t\t\t:autosize=\"{ minRows: 2 }\"\r\n\t\t\t\t\t\tv-model=\"formData.note\"\r\n\t\t\t\t\t\tplaceholder=\"交易備註\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</el-col>\r\n\t\t<el-col\r\n\t\t\t:span=\"16\"\r\n\t\t\t:offset=\"4\"\r\n\t\t\t:sm=\"{ span: 6, offset: 5 }\"\r\n\t\t\tclass=\"button-col\"\r\n\t\t>\r\n\t\t\t<el-button round type=\"warning\" @click=\"handleCancle\">\r\n\t\t\t\t取消\r\n\t\t\t</el-button>\r\n\t\t</el-col>\r\n\t\t<el-col\r\n\t\t\t:span=\"16\"\r\n\t\t\t:offset=\"4\"\r\n\t\t\t:sm=\"{ span: 6, offset: 1 }\"\r\n\t\t\tclass=\"button-col\"\r\n\t\t>\r\n\t\t\t<el-button\r\n\t\t\t\tround\r\n\t\t\t\ttype=\"success\"\r\n\t\t\t\t@click=\"handleAddTransaction(formRef)\"\r\n\t\t\t>\r\n\t\t\t\t儲存\r\n\t\t\t</el-button>\r\n\t\t</el-col>\r\n\t</el-row>\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n.trans-row\r\n\tmargin: 5rem 0px\r\n\t.el-form-item\r\n\t\tmargin-bottom: 30px\r\n\t\t.el-input, .el-textarea, .el-input.el-date-editor.date-picker\r\n\t\t\twidth: 90%\r\n\t\t.el-select\r\n\t\t\twidth: 90%\r\n\t\t\t.el-input\r\n\t\t\t\twidth: 100%\r\n\t.button-col\r\n\t\tpadding-top: 2rem\r\n\t\t.el-button\r\n\t\t\twidth: 100%\r\n@media screen and (max-width: 992px)\r\n\t.trans-row\r\n\t\tmargin: 2rem 0px\r\n</style>\r\n","import { render } from \"./EditTransc.vue?vue&type=template&id=6ff83cf0\"\nimport script from \"./EditTransc.vue?vue&type=script&lang=js\"\nexport * from \"./EditTransc.vue?vue&type=script&lang=js\"\n\nimport \"./EditTransc.vue?vue&type=style&index=0&id=6ff83cf0&lang=sass\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory } from 'vue-router';\nimport { computed } from 'vue';\nimport { ElMessageBox } from \"element-plus\";\nimport store from \"../store\";\nimport Home from '../views/Home.vue';\nimport Analysis from \"../views/Analysis.vue\";\nimport User from \"../views/User.vue\";\nimport Login from \"../views/Login.vue\";\nimport Wallet from '../views/Wallet.vue';\nimport CreateWallet from \"../views/CreateWallet.vue\";\nimport CreateTransc from \"../views/CreateTransc.vue\";\nimport CreateConsumeType from \"../views/CreateConsumeType.vue\";\nimport subWallet from \"../views/SubWallet/SubWallet.vue\";\nimport WalletIndex from \"../views/SubWallet/WalletIndex.vue\";\nimport EditTransc from \"../views/EditTransc.vue\";\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tname: 'Home',\n\t\tcomponent: Home,\n\t},\n\t{\n\t\tpath: '/wallet',\n\t\tname: 'Wallet',\n\t\t// route level code-splitting\n\t\t// this generates a separate chunk (about.[hash].js) for this route\n\t\t// which is lazy-loaded when the route is visited.\n\t\tcomponent: Wallet,\n\t\ticonClass: \"el-icon-s-cooperation\",\n\t\ttext: \"我的帳戶\",\n\t\tchildren: [\n\t\t\t{ path: \"\", name: \"walletIndex\", component: WalletIndex },\n\t\t\t{ path: \":id\", name: \"subWallet\", component: subWallet, }\n\t\t]\n\t},\n\t{\n\t\tpath: \"/analysis\",\n\t\tname: \"Analysis\",\n\t\tcomponent: Analysis,\n\t\ticonClass: \"el-icon-s-data\",\n\t\ttext: \"帳務分析\"\n\t},\n\t{\n\t\tpath: \"/user\",\n\t\tname: \"User\",\n\t\tcomponent: User,\n\t\ticonClass: \"el-icon-user-solid\",\n\t\ttext: \"用戶設定\"\n\t},\n\t{\n\t\tpath: \"/create/wallet\",\n\t\tname: \"CreateWallet\",\n\t\tcomponent: CreateWallet,\n\t\ticonClass: \"el-icon-plus\",\n\t\ttext: \"新增帳戶\"\n\t},\n\t{\n\t\tpath: \"/create/transc\",\n\t\tname: \"CreateTransc\",\n\t\tcomponent: CreateTransc,\n\t\ticonClass: \"el-icon-edit\",\n\t\ttext: \"新增交易記錄\"\n\t},\n\t{\n\t\tpath: \"/create/consumeType\",\n\t\tname: \"CreateConsumeType\",\n\t\tcomponent: CreateConsumeType,\n\t\ticonClass: \"el-icon-first-aid-kit\",\n\t\ttext: \"新增交易類別\"\n\t},\n\t{\n\t\tpath: \"/edit/transc\",\n\t\tname: \"EditTransc\",\n\t\tcomponent: EditTransc,\n\t},\n\t{\n\t\tpath: \"/login\",\n\t\tname: \"Login\",\n\t\tcomponent: Login\n\t}\n];\n\nconst router = createRouter( {\n\thistory: createWebHistory( process.env.BASE_URL ),\n\troutes\n} );\n\nconst whiteList = [ \"/login\" ];\nrouter.beforeEach( async ( to, from ) => {\n\n\tconst token = computed( () => {\n\t\treturn store.getters[ \"User/getToken\" ];\n\t} );\n\tconst user = computed( () => {\n\t\treturn store.getters[ \"User/getUserData\" ];\n\t} );\n\n\tif ( to.path === \"/login\" && token.value ) {\n\t\tif ( !user.value.mainWallet ) {\n\t\t\treturn \"/create\";\n\t\t} else {\n\t\t\treturn \"/wallet\";\n\t\t}\n\t}\n\tif ( !whiteList.includes( to.path ) && !token.value ) {\n\t\tawait ElMessageBox.alert( \"請先登入\", \"提示\", {\n\t\t\tconfirmButtonText: \"確定\",\n\t\t\ttype: \"warning\",\n\t\t\tcenter: true,\n\t\t\tcustomClass: \"maxWidth-90\"\n\t\t} );\n\t\treturn \"/login\";\n\t}\n} );\n\nexport default router;\n","import { createApp } from 'vue';\r\nimport ElementPlus from 'element-plus';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport store from './store';\r\nimport locale from 'element-plus/lib/locale/lang/zh-tw';\r\nimport 'element-plus/lib/theme-chalk/index.css';\r\nimport 'dayjs/locale/zh-tw';\r\n\r\nconst app = createApp( App );\r\ndayjs.locale( 'tw' );\r\napp.use( store ).use( router ).use( ElementPlus, { locale } ).mount( '#app' );\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./WalletIndex.vue?vue&type=style&index=0&id=6e49c47a&lang=sass&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Analysis.vue?vue&type=style&index=0&id=76b17b88&lang=sass&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateWallet.vue?vue&type=style&index=0&id=f3c4459a&lang=sass&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Footer.vue?vue&type=style&index=0&id=59bf9e74&lang=sass&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SubWallet.vue?vue&type=style&index=0&id=74acff2a&lang=sass\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateConsumeType.vue?vue&type=style&index=0&id=264e83f4&lang=sass\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./User.vue?vue&type=style&index=0&id=56b7c945&lang=sass\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=594b69e8&lang=sass\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateTransc.vue?vue&type=style&index=0&id=4063c3ba&lang=sass\""],"sourceRoot":""}